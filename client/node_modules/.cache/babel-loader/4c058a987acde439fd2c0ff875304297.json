{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _isNil from \"lodash/isNil\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n}; // use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\n\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\nvar defer = // eslint-disable-next-line no-nested-ternary\ntypeof requestAnimationFrame === 'function' ? requestAnimationFrame : typeof setImmediate === 'function' ? setImmediate : setTimeout;\nvar deferClear = // eslint-disable-next-line no-nested-ternary\ntypeof cancelAnimationFrame === 'function' ? cancelAnimationFrame : typeof clearImmediate === 'function' ? clearImmediate : clearTimeout;\n\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n\n  return rangeObj.radius;\n};\n\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n\n  return originCoordinate;\n};\n\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n      dataStartIndex = _ref.dataStartIndex,\n      dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n\n    return result;\n  }, []);\n\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n\n  return [];\n};\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\n\n\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n      tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  } // get data by activeIndex when the axis don't allow duplicated category\n\n\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n\n    if (hide) {\n      return result;\n    }\n\n    var data = child.props.data;\n    var payload;\n\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n\n    if (!payload) {\n      return result;\n    }\n\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\n\n\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n      axis = state.tooltipAxis,\n      tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n\n  return null;\n};\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\n\n\nvar getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n      graphicalItems = _ref2.graphicalItems,\n      axisType = _ref2.axisType,\n      axisIdKey = _ref2.axisIdKey,\n      stackGroups = _ref2.stackGroups,\n      dataStartIndex = _ref2.dataStartIndex,\n      dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n      children = props.children,\n      stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props = child.props,\n        type = _child$props.type,\n        dataKey = _child$props.dataKey,\n        allowDataOverflow = _child$props.allowDataOverflow,\n        allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n        scale = _child$props.scale,\n        ticks = _child$props.ticks;\n    var axisId = child.props[axisIdKey];\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n\n    if (!result[axisId]) {\n      var domain, duplicateDomain, categoricalDomain;\n\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is catrgorical axis\n          var duplicate = hasDuplicate(domain);\n\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && !item.props.hide;\n          }), dataKey, axisType, layout);\n\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), type, layout, true);\n      }\n\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n        if (child.props.domain) {\n          domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && child.props.domain) {\n        var axisDomain = child.props.domain;\n        var isDomainValidate = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n\n        if (isDomainValidate) {\n          domain = axisDomain;\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n        axisType: axisType,\n        domain: domain,\n        categoricalDomain: categoricalDomain,\n        duplicateDomain: duplicateDomain,\n        originalDomain: child.props.domain,\n        isCategorical: isCategorical,\n        layout: layout\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\n\n\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n      Axis = _ref3.Axis,\n      axisType = _ref3.axisType,\n      axisIdKey = _ref3.axisIdKey,\n      stackGroups = _ref3.stackGroups,\n      dataStartIndex = _ref3.dataStartIndex,\n      dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n      children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1; // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n\n    if (!result[axisId]) {\n      index++;\n      var domain;\n\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: Axis.defaultProps.domain,\n        isCategorical: isCategorical,\n        layout: layout // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\n\n\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n      axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n      AxisComp = _ref4.AxisComp,\n      graphicalItems = _ref4.graphicalItems,\n      stackGroups = _ref4.stackGroups,\n      dataStartIndex = _ref4.dataStartIndex,\n      dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n\n  return axisMap;\n};\n\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\n\n\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n\n  var children = props.children,\n      defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush.displayName);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\n\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\n\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} props          Latest props\n * graphicalItems The instances of item\n * xAxisMap       The configuration of x-axis\n * yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox          the boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\n\n\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n      graphicalItems = _ref5.graphicalItems,\n      _ref5$xAxisMap = _ref5.xAxisMap,\n      xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n      _ref5$yAxisMap = _ref5.yAxisMap,\n      yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n      height = props.height,\n      children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush.displayName);\n  var legendItem = findChildByType(children, Legend.displayName);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n\n  var brushBottom = offset.bottom;\n\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n\n  if (legendItem && prevLegendBBox) {\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\n\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class, _temp;\n\n  var chartName = _ref6.chartName,\n      GraphicalChild = _ref6.GraphicalChild,\n      _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n      defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n      _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n      validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n      axisComponents = _ref6.axisComponents,\n      legendContent = _ref6.legendContent,\n      formatAxisMap = _ref6.formatAxisMap,\n      defaultProps = _ref6.defaultProps;\n\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n        stackGroups = currentState.stackGroups,\n        offset = currentState.offset,\n        updateId = currentState.updateId,\n        dataStartIndex = currentState.dataStartIndex,\n        dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n        layout = props.layout,\n        barGap = props.barGap,\n        barCategoryGap = props.barCategoryGap,\n        globalMaxBarSize = props.maxBarSize;\n\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout.numericAxisName,\n        cateAxisName = _getAxisNameByLayout.cateAxisName;\n\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n          dataKey = _item$props.dataKey,\n          childMaxBarSize = _item$props.maxBarSize;\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _objectSpread6;\n\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        var axis = axisMap && axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, {});\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis; // 如果是bar，计算bar的位置\n\n\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n\n      var composedFn = item && item.type && item.type.getComposedData;\n\n      if (composedFn) {\n        var _objectSpread7;\n\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n\n\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n        dataStartIndex = _ref8.dataStartIndex,\n        dataEndIndex = _ref8.dataEndIndex,\n        updateId = _ref8.updateId;\n\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n\n    var children = props.children,\n        layout = props.layout,\n        stackOffset = props.stackOffset,\n        data = props.data,\n        reverseStackOrder = props.reverseStackOrder;\n\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout2.numericAxisName,\n        cateAxisName = _getAxisNameByLayout2.cateAxisName;\n\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper); // todo join specific chart propTypes\n\n\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.deferId = void 0;\n      _this.container = void 0;\n\n      _this.clearDeferId = function () {\n        if (!_isNil(_this.deferId) && deferClear) {\n          deferClear(_this.deferId);\n        }\n\n        _this.deferId = null;\n      };\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDeferId();\n\n          _this.deferId = defer && defer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      };\n\n      _this.handleBrushChange = function (_ref9) {\n        var startIndex = _ref9.startIndex,\n            endIndex = _ref9.endIndex; // Only trigger changes if the extents of the brush have actually changed\n\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState);\n\n          _this.triggerSyncEvent(_nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState2);\n\n          _this.triggerSyncEvent(_nextState2);\n\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n\n          onMouseDown(_nextState3, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n\n          onMouseUp(_nextState4, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref10) {\n        var xAxis = _ref10.xAxis,\n            width = _ref10.width,\n            height = _ref10.height,\n            offset = _ref10.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref11) {\n        var yAxis = _ref11.yAxis,\n            width = _ref11.width,\n            height = _ref11.height,\n            offset = _ref11.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state2 = _this.state,\n            isTooltipActive = _this$state2.isTooltipActive,\n            activeCoordinate = _this$state2.activeCoordinate,\n            activePayload = _this$state2.activePayload,\n            offset = _this$state2.offset,\n            activeTooltipIndex = _this$state2.activeTooltipIndex;\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state3 = _this.state,\n            xAxisMap = _this$state3.xAxisMap,\n            yAxisMap = _this$state3.yAxisMap,\n            offset = _this$state3.offset;\n        var _this$props = _this.props,\n            width = _this$props.width,\n            height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _element$props = element.props,\n            radialLines = _element$props.radialLines,\n            polarAngles = _element$props.polarAngles,\n            polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n            radiusAxisMap = _this$state4.radiusAxisMap,\n            angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n            children = _this$props2.children,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state5 = _this.state,\n            isTooltipActive = _this$state5.isTooltipActive,\n            activeCoordinate = _this$state5.activeCoordinate,\n            activePayload = _this$state5.activePayload,\n            activeLabel = _this$state5.activeLabel,\n            offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props2 = element.props,\n            xAxisId = _element$props2.xAxisId,\n            yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderActivePoints = function (_ref12) {\n        var item = _ref12.item,\n            activePoint = _ref12.activePoint,\n            basePoint = _ref12.basePoint,\n            childIndex = _ref12.childIndex,\n            isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props2 = item.props,\n            points = _item$props2.points,\n            isRange = _item$props2.isRange,\n            baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n        var itemEvents = {};\n\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      };\n\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      _this.state = {};\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDeferId();\n\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip.displayName);\n\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n\n        return defaultTooltipEventType;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state10 = this.state,\n            activeCoordinate = _this$state10.activeCoordinate,\n            offset = _this$state10.offset,\n            tooltipAxisBandSize = _this$state10.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state11 = this.state,\n            activeCoordinate = _this$state11.activeCoordinate,\n            offset = _this$state11.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state12 = this.state,\n            angleAxisMap = _this$state12.angleAxisMap,\n            radiusAxisMap = _this$state12.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = {};\n\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n            layout = _this$props4.layout,\n            syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n            dataEndIndex = data.dataEndIndex;\n\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n              chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state13 = this.state,\n              offset = _this$state13.offset,\n              tooltipTicks = _this$state13.tooltipTicks;\n\n          if (!offset) {\n            return;\n          }\n\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }); // When a categotical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n\n\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref13) {\n          var _ref14 = _slicedToArray(_ref13, 2),\n              axisId = _ref14[0],\n              axisProps = _ref14[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref15) {\n          var _ref16 = _slicedToArray(_ref15, 2),\n              axisId = _ref16[0],\n              axisProps = _ref16[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap, _this$state$xAxisMap$;\n\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 ? void 0 : (_this$state$xAxisMap$ = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap$ === void 0 ? void 0 : _this$state$xAxisMap$.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap, _this$state$yAxisMap$;\n\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 ? void 0 : (_this$state$yAxisMap$ = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap$ === void 0 ? void 0 : _this$state$yAxisMap$.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n                item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            }\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            className = _this$props6.className,\n            width = _this$props6.width,\n            height = _this$props6.height,\n            style = _this$props6.style,\n            compact = _this$props6.compact,\n            title = _this$props6.title,\n            desc = _this$props6.desc,\n            others = _objectWithoutProperties(_this$props6, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _class.displayName = chartName, _class.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps), _class.getDerivedStateFromProps = function (nextProps, prevState) {\n    var data = nextProps.data,\n        children = nextProps.children,\n        width = nextProps.width,\n        height = nextProps.height,\n        layout = nextProps.layout,\n        stackOffset = nextProps.stackOffset,\n        margin = nextProps.margin;\n\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in chilren\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n\n    return null;\n  }, _class.renderActiveDot = function (option, props) {\n    var dot;\n\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }, _temp;\n};","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_every","_find","_isFunction","_throttle","_sortBy","_get","_range","_isNil","_isBoolean","_isArray","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_extends","assign","target","arguments","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","iter","len","arr2","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","React","Component","cloneElement","isValidElement","createElement","classNames","Surface","Layer","Tooltip","Legend","Curve","Cross","Sector","Dot","isInRectangle","Rectangle","findAllByType","findChildByType","getDisplayName","parseChildIndex","validateWidthHeight","isChildrenEqual","renderByOrder","getReactEventByType","CartesianAxis","Brush","getOffset","calculateChartCoordinate","getAnyElementOfObject","hasDuplicate","uniqueId","isNumber","findEntryInArray","calculateActiveTickIndex","getMainColorOfGraphicItem","getBarSizeList","getBarPosition","appendOffsetOfLegend","getLegendProps","combineEventHandlers","getTicksOfAxis","getCoordinatesOfGrid","getStackedDataOfItem","parseErrorBarsOfAxis","getBandSizeOfAxis","getStackGroupsByAxisId","isCategoricalAxis","getDomainOfItemsWithSameAxis","getDomainOfStackGroups","getDomainOfDataByKey","parseSpecifiedDomain","parseDomainOfCategoryAxis","getTooltipItem","detectReferenceElementsDomain","inRangeOfSector","polarToCartesian","shallowEqual","eventCenter","SYNC_EVENT","filterProps","adaptEventHandlers","ORIENT_MAP","xAxis","yAxis","originCoordinate","x","y","isFinit","Number","isFinite","defer","requestAnimationFrame","setImmediate","setTimeout","deferClear","cancelAnimationFrame","clearImmediate","clearTimeout","calculateTooltipPos","rangeObj","layout","angle","radius","getActiveCoordinate","tooltipTicks","activeIndex","entry","find","tick","index","coordinate","_angle","_radius","cx","cy","getDisplayedData","data","_ref","item","graphicalItems","dataStartIndex","dataEndIndex","itemsData","reduce","child","itemData","concat","getTooltipContent","state","chartData","activeLabel","tooltipAxis","displayedData","hide","payload","dataKey","allowDuplicatedCategory","entries","getTooltipData","rangeData","chartX","chartY","pos","ticks","orderedTooltipTicks","axis","activePayload","activeCoordinate","activeTooltipIndex","getAxisMapByAxes","_ref2","axes","axisType","axisIdKey","stackGroups","children","stackOffset","isCategorical","axisMap","_child$props","type","allowDataOverflow","scale","axisId","domain","duplicateDomain","categoricalDomain","duplicate","finalDomain","errorBarsDomain","hasStack","axisDomain","isDomainValidate","every","originalDomain","getAxisMapByItems","_ref3","Axis","defaultProps","orientation","getAxisMap","_ref4","_ref4$axisType","AxisComp","tooltipTicksGenerator","tooltipAxisBandSize","createDefaultState","_brushItem$props","_brushItem$props2","defaultShowTooltip","brushItem","displayName","startIndex","endIndex","isTooltipActive","hasGraphicalBarItem","some","getAxisNameByLayout","numericAxisName","cateAxisName","calculateOffset","_ref5","prevLegendBBox","_ref5$xAxisMap","xAxisMap","_ref5$yAxisMap","yAxisMap","width","height","margin","legendItem","offsetH","id","mirror","left","right","offsetV","top","bottom","offset","brushBottom","generateCategoricalChart","_ref6","_class","_temp","chartName","GraphicalChild","_ref6$defaultTooltipE","defaultTooltipEventType","_ref6$validateTooltip","validateTooltipEventTypes","axisComponents","legendContent","formatAxisMap","getFormatItems","currentState","updateId","barSize","barGap","barCategoryGap","globalMaxBarSize","maxBarSize","_getAxisNameByLayout","hasBar","sizeList","formattedItems","_item$props","childMaxBarSize","numericAxisId","cateAxisId","axisObj","_objectSpread6","cateAxis","cateTicks","stackedData","itemIsBar","bandSize","barPosition","_ref7","_getBandSizeOfAxis","barBandSize","map","position","composedFn","getComposedData","_objectSpread7","childIndex","updateStateOfAxisMapsOffsetAndStackGroups","_ref8","prevState","reverseStackOrder","_getAxisNameByLayout2","legendBBox","replace","cateAxisMap","ticksObj","formattedGraphicalItems","_Component","CategoricalChartWrapper","_super","_props","_this","uniqueChartId","clipPathId","legendInstance","deferId","container","clearDeferId","handleLegendBBoxUpdate","box","_this$state","setState","handleReceiveSyncEvent","cId","chartId","syncId","applySyncEvent","bind","handleBrushChange","_ref9","triggerSyncEvent","handleMouseEnter","onMouseEnter","mouse","getMouseInfo","_nextState","triggeredAfterMouseMove","onMouseMove","nextState","handleItemMouseEnter","el","activeItem","tooltipPayload","tooltipPosition","handleItemMouseLeave","handleMouseMove","persist","handleMouseLeave","onMouseLeave","cancelThrottledTriggerAfterMouseMove","handleOuterEvent","eventName","event","changedTouches","handler","handleClick","onClick","_nextState2","handleMouseDown","onMouseDown","_nextState3","handleMouseUp","onMouseUp","_nextState4","handleTouchMove","handleTouchStart","handleTouchEnd","verticalCoordinatesGenerator","_ref10","getTicks","viewBox","horizontalCoordinatesGenerator","_ref11","axesTicksGenerator","renderCursor","element","_this$state2","tooltipEventType","getTooltipEventType","cursor","restProps","cursorComp","getCursorRectangle","_this$getCursorPoints","getCursorPoints","startAngle","endAngle","innerRadius","outerRadius","points","cursorProps","stroke","pointerEvents","payloadIndex","className","renderPolarAxis","axisOption","renderXAxis","xAxisId","renderAxis","renderYAxis","yAxisId","renderGrid","_this$state3","_this$props","yAxisWithFiniteDomain","chartWidth","chartHeight","renderPolarGrid","_element$props","radialLines","polarAngles","polarRadius","_this$state4","radiusAxisMap","angleAxisMap","radiusAxis","angleAxis","renderLegend","_this$props2","legendWidth","otherProps","ref","legend","onBBoxUpdate","renderTooltip","tooltipItem","_this$state5","active","label","renderBrush","_this$props3","_this$state6","onChange","renderReferenceElement","_assertThisInitialize","_this$state7","_element$props2","renderActivePoints","_ref12","activePoint","basePoint","isRange","_item$item$props","activeDot","dotProps","r","fill","strokeWidth","renderActiveDot","renderGraphicChild","filterFormatItem","_this$state8","_item$props2","baseLine","_item$item$props2","hasActive","itemEvents","trigger","onCLick","graphicalItem","findWithPayload","specifiedKey","renderCustomized","throttleDelay","componentDidMount","addListener","componentDidUpdate","prevProps","removeListener","componentWillUnmount","cancel","shared","eventType","containerOffset","inRange","_this$state9","xScale","yScale","xValue","invert","yValue","toolTipData","_this$state10","halfSize","_this$state11","x1","y1","x2","y2","innerPoint","outerPoint","_cx","_cy","startPoint","endPoint","isInRange","_this$state12","parseEventsOfWrapper","tooltipEvents","onTouchMove","onTouchStart","onTouchEnd","outerEvents","on","setMaxListeners","_maxListeners","emit","_this$props4","syncMethod","_this$state13","validateChartX","Math","min","validateChartY","axisOptions","_this$props5","ticksGenerator","renderClipPath","_this$state$offset","getXScales","res","_ref13","_ref14","axisProps","getYScales","_ref15","_ref16","getXScaleByAxisId","_this$state$xAxisMap","_this$state$xAxisMap$","getYScaleByAxisId","_this$state$yAxisMap","_this$state$yAxisMap$","getItemByXY","chartXY","itemDisplayName","activeBarItem","_activeBarItem","render","_this2","_this$props6","style","compact","title","desc","others","attrs","CartesianGrid","once","ReferenceArea","ReferenceLine","ReferenceDot","XAxis","YAxis","Bar","Line","Area","Radar","RadialBar","Scatter","Pie","Funnel","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Customized","events","node","role","getDerivedStateFromProps","nextProps","defaultState","prevData","prevWidth","prevHeight","prevLayout","prevStackOffset","prevMargin","prevChildren","_defaultState","keepFromPrevState","updatesToState","newState","hasGlobalData","newUpdateId","option","dot"],"sources":["C:/Users/marti/Desktop/Jobify/client/node_modules/recharts/es6/chart/generateCategoricalChart.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport _every from \"lodash/every\";\nimport _find from \"lodash/find\";\nimport _isFunction from \"lodash/isFunction\";\nimport _throttle from \"lodash/throttle\";\nimport _sortBy from \"lodash/sortBy\";\nimport _get from \"lodash/get\";\nimport _range from \"lodash/range\";\nimport _isNil from \"lodash/isNil\";\nimport _isBoolean from \"lodash/isBoolean\";\nimport _isArray from \"lodash/isArray\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, cloneElement, isValidElement, createElement } from 'react';\nimport classNames from 'classnames';\nimport { Surface } from '../container/Surface';\nimport { Layer } from '../container/Layer';\nimport { Tooltip } from '../component/Tooltip';\nimport { Legend } from '../component/Legend';\nimport { Curve } from '../shape/Curve';\nimport { Cross } from '../shape/Cross';\nimport { Sector } from '../shape/Sector';\nimport { Dot } from '../shape/Dot';\nimport { isInRectangle, Rectangle } from '../shape/Rectangle';\nimport { findAllByType, findChildByType, getDisplayName, parseChildIndex, validateWidthHeight, isChildrenEqual, renderByOrder, getReactEventByType } from '../util/ReactUtils';\nimport { CartesianAxis } from '../cartesian/CartesianAxis';\nimport { Brush } from '../cartesian/Brush';\nimport { getOffset, calculateChartCoordinate } from '../util/DOMUtils';\nimport { getAnyElementOfObject, hasDuplicate, uniqueId, isNumber, findEntryInArray } from '../util/DataUtils';\nimport { calculateActiveTickIndex, getMainColorOfGraphicItem, getBarSizeList, getBarPosition, appendOffsetOfLegend, getLegendProps, combineEventHandlers, getTicksOfAxis, getCoordinatesOfGrid, getStackedDataOfItem, parseErrorBarsOfAxis, getBandSizeOfAxis, getStackGroupsByAxisId, isCategoricalAxis, getDomainOfItemsWithSameAxis, getDomainOfStackGroups, getDomainOfDataByKey, parseSpecifiedDomain, parseDomainOfCategoryAxis, getTooltipItem } from '../util/ChartUtils';\nimport { detectReferenceElementsDomain } from '../util/DetectReferenceElementsDomain';\nimport { inRangeOfSector, polarToCartesian } from '../util/PolarUtils';\nimport { shallowEqual } from '../util/ShallowEqual';\nimport { eventCenter, SYNC_EVENT } from '../util/Events';\nimport { filterProps, adaptEventHandlers } from '../util/types';\nvar ORIENT_MAP = {\n  xAxis: ['bottom', 'top'],\n  yAxis: ['left', 'right']\n};\nvar originCoordinate = {\n  x: 0,\n  y: 0\n}; // use legacy isFinite only if there is a problem (aka IE)\n// eslint-disable-next-line no-restricted-globals\n\nvar isFinit = Number.isFinite ? Number.isFinite : isFinite;\nvar defer = // eslint-disable-next-line no-nested-ternary\ntypeof requestAnimationFrame === 'function' ? requestAnimationFrame : typeof setImmediate === 'function' ? setImmediate : setTimeout;\nvar deferClear = // eslint-disable-next-line no-nested-ternary\ntypeof cancelAnimationFrame === 'function' ? cancelAnimationFrame : typeof clearImmediate === 'function' ? clearImmediate : clearTimeout;\n\nvar calculateTooltipPos = function calculateTooltipPos(rangeObj, layout) {\n  if (layout === 'horizontal') {\n    return rangeObj.x;\n  }\n\n  if (layout === 'vertical') {\n    return rangeObj.y;\n  }\n\n  if (layout === 'centric') {\n    return rangeObj.angle;\n  }\n\n  return rangeObj.radius;\n};\n\nvar getActiveCoordinate = function getActiveCoordinate(layout, tooltipTicks, activeIndex, rangeObj) {\n  var entry = tooltipTicks.find(function (tick) {\n    return tick && tick.index === activeIndex;\n  });\n\n  if (entry) {\n    if (layout === 'horizontal') {\n      return {\n        x: entry.coordinate,\n        y: rangeObj.y\n      };\n    }\n\n    if (layout === 'vertical') {\n      return {\n        x: rangeObj.x,\n        y: entry.coordinate\n      };\n    }\n\n    if (layout === 'centric') {\n      var _angle = entry.coordinate;\n      var _radius = rangeObj.radius;\n      return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, _radius, _angle)), {}, {\n        angle: _angle,\n        radius: _radius\n      });\n    }\n\n    var radius = entry.coordinate;\n    var angle = rangeObj.angle;\n    return _objectSpread(_objectSpread(_objectSpread({}, rangeObj), polarToCartesian(rangeObj.cx, rangeObj.cy, radius, angle)), {}, {\n      angle: angle,\n      radius: radius\n    });\n  }\n\n  return originCoordinate;\n};\n\nvar getDisplayedData = function getDisplayedData(data, _ref, item) {\n  var graphicalItems = _ref.graphicalItems,\n      dataStartIndex = _ref.dataStartIndex,\n      dataEndIndex = _ref.dataEndIndex;\n  var itemsData = (graphicalItems || []).reduce(function (result, child) {\n    var itemData = child.props.data;\n\n    if (itemData && itemData.length) {\n      return [].concat(_toConsumableArray(result), _toConsumableArray(itemData));\n    }\n\n    return result;\n  }, []);\n\n  if (itemsData && itemsData.length > 0) {\n    return itemsData;\n  }\n\n  if (item && item.props && item.props.data && item.props.data.length > 0) {\n    return item.props.data;\n  }\n\n  if (data && data.length && isNumber(dataStartIndex) && isNumber(dataEndIndex)) {\n    return data.slice(dataStartIndex, dataEndIndex + 1);\n  }\n\n  return [];\n};\n/**\n * Get the content to be displayed in the tooltip\n * @param  {Object} state          Current state\n * @param  {Array}  chartData      The data defined in chart\n * @param  {Number} activeIndex    Active index of data\n * @param  {String} activeLabel    Active label of data\n * @return {Array}                 The content of tooltip\n */\n\n\nvar getTooltipContent = function getTooltipContent(state, chartData, activeIndex, activeLabel) {\n  var graphicalItems = state.graphicalItems,\n      tooltipAxis = state.tooltipAxis;\n  var displayedData = getDisplayedData(chartData, state);\n\n  if (activeIndex < 0 || !graphicalItems || !graphicalItems.length || activeIndex >= displayedData.length) {\n    return null;\n  } // get data by activeIndex when the axis don't allow duplicated category\n\n\n  return graphicalItems.reduce(function (result, child) {\n    var hide = child.props.hide;\n\n    if (hide) {\n      return result;\n    }\n\n    var data = child.props.data;\n    var payload;\n\n    if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n      // graphic child has data props\n      var entries = data === undefined ? displayedData : data;\n      payload = findEntryInArray(entries, tooltipAxis.dataKey, activeLabel);\n    } else {\n      payload = data && data[activeIndex] || displayedData[activeIndex];\n    }\n\n    if (!payload) {\n      return result;\n    }\n\n    return [].concat(_toConsumableArray(result), [getTooltipItem(child, payload)]);\n  }, []);\n};\n/**\n * Returns tooltip data based on a mouse position (as a parameter or in state)\n * @param  {Object} state     current state\n * @param  {Array}  chartData the data defined in chart\n * @param  {String} layout     The layout type of chart\n * @param  {Object} rangeObj  { x, y } coordinates\n * @return {Object}           Tooltip data data\n */\n\n\nvar getTooltipData = function getTooltipData(state, chartData, layout, rangeObj) {\n  var rangeData = rangeObj || {\n    x: state.chartX,\n    y: state.chartY\n  };\n  var pos = calculateTooltipPos(rangeData, layout);\n  var ticks = state.orderedTooltipTicks,\n      axis = state.tooltipAxis,\n      tooltipTicks = state.tooltipTicks;\n  var activeIndex = calculateActiveTickIndex(pos, ticks, tooltipTicks, axis);\n\n  if (activeIndex >= 0 && tooltipTicks) {\n    var activeLabel = tooltipTicks[activeIndex] && tooltipTicks[activeIndex].value;\n    var activePayload = getTooltipContent(state, chartData, activeIndex, activeLabel);\n    var activeCoordinate = getActiveCoordinate(layout, ticks, activeIndex, rangeData);\n    return {\n      activeTooltipIndex: activeIndex,\n      activeLabel: activeLabel,\n      activePayload: activePayload,\n      activeCoordinate: activeCoordinate\n    };\n  }\n\n  return null;\n};\n/**\n * Get the configuration of axis by the options of axis instance\n * @param  {Object} props         Latest props\n * @param {Array}  axes           The instance of axes\n * @param  {Array} graphicalItems The instances of item\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}      Configuration\n */\n\n\nvar getAxisMapByAxes = function getAxisMapByAxes(props, _ref2) {\n  var axes = _ref2.axes,\n      graphicalItems = _ref2.graphicalItems,\n      axisType = _ref2.axisType,\n      axisIdKey = _ref2.axisIdKey,\n      stackGroups = _ref2.stackGroups,\n      dataStartIndex = _ref2.dataStartIndex,\n      dataEndIndex = _ref2.dataEndIndex;\n  var layout = props.layout,\n      children = props.children,\n      stackOffset = props.stackOffset;\n  var isCategorical = isCategoricalAxis(layout, axisType); // Eliminate duplicated axes\n\n  var axisMap = axes.reduce(function (result, child) {\n    var _child$props = child.props,\n        type = _child$props.type,\n        dataKey = _child$props.dataKey,\n        allowDataOverflow = _child$props.allowDataOverflow,\n        allowDuplicatedCategory = _child$props.allowDuplicatedCategory,\n        scale = _child$props.scale,\n        ticks = _child$props.ticks;\n    var axisId = child.props[axisIdKey];\n    var displayedData = getDisplayedData(props.data, {\n      graphicalItems: graphicalItems.filter(function (item) {\n        return item.props[axisIdKey] === axisId;\n      }),\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n    var len = displayedData.length;\n\n    if (!result[axisId]) {\n      var domain, duplicateDomain, categoricalDomain;\n\n      if (dataKey) {\n        // has dataKey in <Axis />\n        domain = getDomainOfDataByKey(displayedData, dataKey, type);\n\n        if (type === 'category' && isCategorical) {\n          // the field type is category data and this axis is catrgorical axis\n          var duplicate = hasDuplicate(domain);\n\n          if (allowDuplicatedCategory && duplicate) {\n            duplicateDomain = domain; // When category axis has duplicated text, serial numbers are used to generate scale\n\n            domain = _range(0, len);\n          } else if (!allowDuplicatedCategory) {\n            // remove duplicated category\n            domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          }\n        } else if (type === 'category') {\n          // the field type is category data and this axis is numerical axis\n          if (!allowDuplicatedCategory) {\n            domain = parseDomainOfCategoryAxis(child.props.domain, domain, child).reduce(function (finalDomain, entry) {\n              return finalDomain.indexOf(entry) >= 0 || entry === '' || _isNil(entry) ? finalDomain : [].concat(_toConsumableArray(finalDomain), [entry]);\n            }, []);\n          } else {\n            // eliminate undefined or null or empty string\n            domain = domain.filter(function (entry) {\n              return entry !== '' && !_isNil(entry);\n            });\n          }\n        } else if (type === 'number') {\n          // the field type is numerical\n          var errorBarsDomain = parseErrorBarsOfAxis(displayedData, graphicalItems.filter(function (item) {\n            return item.props[axisIdKey] === axisId && !item.props.hide;\n          }), dataKey, axisType, layout);\n\n          if (errorBarsDomain) {\n            domain = errorBarsDomain;\n          }\n        }\n\n        if (isCategorical && (type === 'number' || scale !== 'auto')) {\n          categoricalDomain = getDomainOfDataByKey(displayedData, dataKey, 'category');\n        }\n      } else if (isCategorical) {\n        // the axis is a categorical axis\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack && type === 'number') {\n        // when stackOffset is 'expand', the domain may be calculated as [0, 1.000000000002]\n        domain = stackOffset === 'expand' ? [0, 1] : getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n      } else {\n        domain = getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), type, layout, true);\n      }\n\n      if (type === 'number') {\n        // To detect wether there is any reference lines whose props alwaysShow is true\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType, ticks);\n\n        if (child.props.domain) {\n          domain = parseSpecifiedDomain(child.props.domain, domain, allowDataOverflow);\n        }\n      } else if (type === 'category' && child.props.domain) {\n        var axisDomain = child.props.domain;\n        var isDomainValidate = domain.every(function (entry) {\n          return axisDomain.indexOf(entry) >= 0;\n        });\n\n        if (isDomainValidate) {\n          domain = axisDomain;\n        }\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({}, child.props), {}, {\n        axisType: axisType,\n        domain: domain,\n        categoricalDomain: categoricalDomain,\n        duplicateDomain: duplicateDomain,\n        originalDomain: child.props.domain,\n        isCategorical: isCategorical,\n        layout: layout\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of axis by the options of item,\n * this kind of axis does not display in chart\n * @param  {Object} props         Latest props\n * @param  {Array} graphicalItems The instances of item\n * @param  {ReactElement} Axis    Axis Component\n * @param  {String} axisType      The type of axis, xAxis - x-axis, yAxis - y-axis\n * @param  {String} axisIdKey     The unique id of an axis\n * @param  {Object} stackGroups   The items grouped by axisId and stackId\n * @param {Number} dataStartIndex The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex   The end index of the data series when a brush is applied\n * @return {Object}               Configuration\n */\n\n\nvar getAxisMapByItems = function getAxisMapByItems(props, _ref3) {\n  var graphicalItems = _ref3.graphicalItems,\n      Axis = _ref3.Axis,\n      axisType = _ref3.axisType,\n      axisIdKey = _ref3.axisIdKey,\n      stackGroups = _ref3.stackGroups,\n      dataStartIndex = _ref3.dataStartIndex,\n      dataEndIndex = _ref3.dataEndIndex;\n  var layout = props.layout,\n      children = props.children;\n  var displayedData = getDisplayedData(props.data, {\n    graphicalItems: graphicalItems,\n    dataStartIndex: dataStartIndex,\n    dataEndIndex: dataEndIndex\n  });\n  var len = displayedData.length;\n  var isCategorical = isCategoricalAxis(layout, axisType);\n  var index = -1; // The default type of x-axis is category axis,\n  // The default contents of x-axis is the serial numbers of data\n  // The default type of y-axis is number axis\n  // The default contents of y-axis is the domain of data\n\n  var axisMap = graphicalItems.reduce(function (result, child) {\n    var axisId = child.props[axisIdKey];\n\n    if (!result[axisId]) {\n      index++;\n      var domain;\n\n      if (isCategorical) {\n        domain = _range(0, len);\n      } else if (stackGroups && stackGroups[axisId] && stackGroups[axisId].hasStack) {\n        domain = getDomainOfStackGroups(stackGroups[axisId].stackGroups, dataStartIndex, dataEndIndex);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      } else {\n        domain = parseSpecifiedDomain(Axis.defaultProps.domain, getDomainOfItemsWithSameAxis(displayedData, graphicalItems.filter(function (item) {\n          return item.props[axisIdKey] === axisId && !item.props.hide;\n        }), 'number', layout), Axis.defaultProps.allowDataOverflow);\n        domain = detectReferenceElementsDomain(children, domain, axisId, axisType);\n      }\n\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, axisId, _objectSpread(_objectSpread({\n        axisType: axisType\n      }, Axis.defaultProps), {}, {\n        hide: true,\n        orientation: _get(ORIENT_MAP, \"\".concat(axisType, \".\").concat(index % 2), null),\n        domain: domain,\n        originalDomain: Axis.defaultProps.domain,\n        isCategorical: isCategorical,\n        layout: layout // specify scale when no Axis\n        // scale: isCategorical ? 'band' : 'linear',\n\n      })));\n    }\n\n    return result;\n  }, {});\n  return axisMap;\n};\n/**\n * Get the configuration of all x-axis or y-axis\n * @param  {Object} props          Latest props\n * @param  {String} axisType       The type of axis\n * @param  {Array}  graphicalItems The instances of item\n * @param  {Object} stackGroups    The items grouped by axisId and stackId\n * @param {Number} dataStartIndex  The start index of the data series when a brush is applied\n * @param {Number} dataEndIndex    The end index of the data series when a brush is applied\n * @return {Object}          Configuration\n */\n\n\nvar getAxisMap = function getAxisMap(props, _ref4) {\n  var _ref4$axisType = _ref4.axisType,\n      axisType = _ref4$axisType === void 0 ? 'xAxis' : _ref4$axisType,\n      AxisComp = _ref4.AxisComp,\n      graphicalItems = _ref4.graphicalItems,\n      stackGroups = _ref4.stackGroups,\n      dataStartIndex = _ref4.dataStartIndex,\n      dataEndIndex = _ref4.dataEndIndex;\n  var children = props.children;\n  var axisIdKey = \"\".concat(axisType, \"Id\"); // Get all the instance of Axis\n\n  var axes = findAllByType(children, AxisComp);\n  var axisMap = {};\n\n  if (axes && axes.length) {\n    axisMap = getAxisMapByAxes(props, {\n      axes: axes,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  } else if (graphicalItems && graphicalItems.length) {\n    axisMap = getAxisMapByItems(props, {\n      Axis: AxisComp,\n      graphicalItems: graphicalItems,\n      axisType: axisType,\n      axisIdKey: axisIdKey,\n      stackGroups: stackGroups,\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex\n    });\n  }\n\n  return axisMap;\n};\n\nvar tooltipTicksGenerator = function tooltipTicksGenerator(axisMap) {\n  var axis = getAnyElementOfObject(axisMap);\n  var tooltipTicks = getTicksOfAxis(axis, false, true);\n  return {\n    tooltipTicks: tooltipTicks,\n    orderedTooltipTicks: _sortBy(tooltipTicks, function (o) {\n      return o.coordinate;\n    }),\n    tooltipAxis: axis,\n    tooltipAxisBandSize: getBandSizeOfAxis(axis, tooltipTicks)\n  };\n};\n/**\n * Returns default, reset state for the categorical chart.\n * @param {Object} props Props object to use when creating the default state\n * @return {Object} Whole new state\n */\n\n\nvar createDefaultState = function createDefaultState(props) {\n  var _brushItem$props, _brushItem$props2;\n\n  var children = props.children,\n      defaultShowTooltip = props.defaultShowTooltip;\n  var brushItem = findChildByType(children, Brush.displayName);\n  var startIndex = brushItem && brushItem.props && brushItem.props.startIndex || 0;\n  var endIndex = (brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props = brushItem.props) === null || _brushItem$props === void 0 ? void 0 : _brushItem$props.endIndex) !== undefined ? brushItem === null || brushItem === void 0 ? void 0 : (_brushItem$props2 = brushItem.props) === null || _brushItem$props2 === void 0 ? void 0 : _brushItem$props2.endIndex : props.data && props.data.length - 1 || 0;\n  return {\n    chartX: 0,\n    chartY: 0,\n    dataStartIndex: startIndex,\n    dataEndIndex: endIndex,\n    activeTooltipIndex: -1,\n    isTooltipActive: !_isNil(defaultShowTooltip) ? defaultShowTooltip : false\n  };\n};\n\nvar hasGraphicalBarItem = function hasGraphicalBarItem(graphicalItems) {\n  if (!graphicalItems || !graphicalItems.length) {\n    return false;\n  }\n\n  return graphicalItems.some(function (item) {\n    var name = getDisplayName(item && item.type);\n    return name && name.indexOf('Bar') >= 0;\n  });\n};\n\nvar getAxisNameByLayout = function getAxisNameByLayout(layout) {\n  if (layout === 'horizontal') {\n    return {\n      numericAxisName: 'yAxis',\n      cateAxisName: 'xAxis'\n    };\n  }\n\n  if (layout === 'vertical') {\n    return {\n      numericAxisName: 'xAxis',\n      cateAxisName: 'yAxis'\n    };\n  }\n\n  if (layout === 'centric') {\n    return {\n      numericAxisName: 'radiusAxis',\n      cateAxisName: 'angleAxis'\n    };\n  }\n\n  return {\n    numericAxisName: 'angleAxis',\n    cateAxisName: 'radiusAxis'\n  };\n};\n/**\n * Calculate the offset of main part in the svg element\n * @param  {Object} props          Latest props\n * graphicalItems The instances of item\n * xAxisMap       The configuration of x-axis\n * yAxisMap       The configuration of y-axis\n * @param  {Object} prevLegendBBox          the boundary box of legend\n * @return {Object} The offset of main part in the svg element\n */\n\n\nvar calculateOffset = function calculateOffset(_ref5, prevLegendBBox) {\n  var props = _ref5.props,\n      graphicalItems = _ref5.graphicalItems,\n      _ref5$xAxisMap = _ref5.xAxisMap,\n      xAxisMap = _ref5$xAxisMap === void 0 ? {} : _ref5$xAxisMap,\n      _ref5$yAxisMap = _ref5.yAxisMap,\n      yAxisMap = _ref5$yAxisMap === void 0 ? {} : _ref5$yAxisMap;\n  var width = props.width,\n      height = props.height,\n      children = props.children;\n  var margin = props.margin || {};\n  var brushItem = findChildByType(children, Brush.displayName);\n  var legendItem = findChildByType(children, Legend.displayName);\n  var offsetH = Object.keys(yAxisMap).reduce(function (result, id) {\n    var entry = yAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, result[orientation] + entry.width));\n    }\n\n    return result;\n  }, {\n    left: margin.left || 0,\n    right: margin.right || 0\n  });\n  var offsetV = Object.keys(xAxisMap).reduce(function (result, id) {\n    var entry = xAxisMap[id];\n    var orientation = entry.orientation;\n\n    if (!entry.mirror && !entry.hide) {\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, orientation, _get(result, \"\".concat(orientation)) + entry.height));\n    }\n\n    return result;\n  }, {\n    top: margin.top || 0,\n    bottom: margin.bottom || 0\n  });\n\n  var offset = _objectSpread(_objectSpread({}, offsetV), offsetH);\n\n  var brushBottom = offset.bottom;\n\n  if (brushItem) {\n    offset.bottom += brushItem.props.height || Brush.defaultProps.height;\n  }\n\n  if (legendItem && prevLegendBBox) {\n    offset = appendOffsetOfLegend(offset, graphicalItems, props, prevLegendBBox);\n  }\n\n  return _objectSpread(_objectSpread({\n    brushBottom: brushBottom\n  }, offset), {}, {\n    width: width - offset.left - offset.right,\n    height: height - offset.top - offset.bottom\n  });\n};\n\nexport var generateCategoricalChart = function generateCategoricalChart(_ref6) {\n  var _class, _temp;\n\n  var chartName = _ref6.chartName,\n      GraphicalChild = _ref6.GraphicalChild,\n      _ref6$defaultTooltipE = _ref6.defaultTooltipEventType,\n      defaultTooltipEventType = _ref6$defaultTooltipE === void 0 ? 'axis' : _ref6$defaultTooltipE,\n      _ref6$validateTooltip = _ref6.validateTooltipEventTypes,\n      validateTooltipEventTypes = _ref6$validateTooltip === void 0 ? ['axis'] : _ref6$validateTooltip,\n      axisComponents = _ref6.axisComponents,\n      legendContent = _ref6.legendContent,\n      formatAxisMap = _ref6.formatAxisMap,\n      defaultProps = _ref6.defaultProps;\n\n  var getFormatItems = function getFormatItems(props, currentState) {\n    var graphicalItems = currentState.graphicalItems,\n        stackGroups = currentState.stackGroups,\n        offset = currentState.offset,\n        updateId = currentState.updateId,\n        dataStartIndex = currentState.dataStartIndex,\n        dataEndIndex = currentState.dataEndIndex;\n    var barSize = props.barSize,\n        layout = props.layout,\n        barGap = props.barGap,\n        barCategoryGap = props.barCategoryGap,\n        globalMaxBarSize = props.maxBarSize;\n\n    var _getAxisNameByLayout = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout.numericAxisName,\n        cateAxisName = _getAxisNameByLayout.cateAxisName;\n\n    var hasBar = hasGraphicalBarItem(graphicalItems);\n    var sizeList = hasBar && getBarSizeList({\n      barSize: barSize,\n      stackGroups: stackGroups\n    });\n    var formattedItems = [];\n    graphicalItems.forEach(function (item, index) {\n      var displayedData = getDisplayedData(props.data, {\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }, item);\n      var _item$props = item.props,\n          dataKey = _item$props.dataKey,\n          childMaxBarSize = _item$props.maxBarSize;\n      var numericAxisId = item.props[\"\".concat(numericAxisName, \"Id\")];\n      var cateAxisId = item.props[\"\".concat(cateAxisName, \"Id\")];\n      var axisObj = axisComponents.reduce(function (result, entry) {\n        var _objectSpread6;\n\n        var axisMap = currentState[\"\".concat(entry.axisType, \"Map\")];\n        var id = item.props[\"\".concat(entry.axisType, \"Id\")];\n        var axis = axisMap && axisMap[id];\n        return _objectSpread(_objectSpread({}, result), {}, (_objectSpread6 = {}, _defineProperty(_objectSpread6, entry.axisType, axis), _defineProperty(_objectSpread6, \"\".concat(entry.axisType, \"Ticks\"), getTicksOfAxis(axis)), _objectSpread6));\n      }, {});\n      var cateAxis = axisObj[cateAxisName];\n      var cateTicks = axisObj[\"\".concat(cateAxisName, \"Ticks\")];\n      var stackedData = stackGroups && stackGroups[numericAxisId] && stackGroups[numericAxisId].hasStack && getStackedDataOfItem(item, stackGroups[numericAxisId].stackGroups);\n      var itemIsBar = getDisplayName(item.type).indexOf('Bar') >= 0;\n      var bandSize = getBandSizeOfAxis(cateAxis, cateTicks);\n      var barPosition = [];\n\n      if (itemIsBar) {\n        var _ref7, _getBandSizeOfAxis;\n\n        // 如果是bar，计算bar的位置\n        var maxBarSize = _isNil(childMaxBarSize) ? globalMaxBarSize : childMaxBarSize;\n        var barBandSize = (_ref7 = (_getBandSizeOfAxis = getBandSizeOfAxis(cateAxis, cateTicks, true)) !== null && _getBandSizeOfAxis !== void 0 ? _getBandSizeOfAxis : maxBarSize) !== null && _ref7 !== void 0 ? _ref7 : 0;\n        barPosition = getBarPosition({\n          barGap: barGap,\n          barCategoryGap: barCategoryGap,\n          bandSize: barBandSize !== bandSize ? barBandSize : bandSize,\n          sizeList: sizeList[cateAxisId],\n          maxBarSize: maxBarSize\n        });\n\n        if (barBandSize !== bandSize) {\n          barPosition = barPosition.map(function (pos) {\n            return _objectSpread(_objectSpread({}, pos), {}, {\n              position: _objectSpread(_objectSpread({}, pos.position), {}, {\n                offset: pos.position.offset - barBandSize / 2\n              })\n            });\n          });\n        }\n      }\n\n      var composedFn = item && item.type && item.type.getComposedData;\n\n      if (composedFn) {\n        var _objectSpread7;\n\n        formattedItems.push({\n          props: _objectSpread(_objectSpread({}, composedFn(_objectSpread(_objectSpread({}, axisObj), {}, {\n            displayedData: displayedData,\n            props: props,\n            dataKey: dataKey,\n            item: item,\n            bandSize: bandSize,\n            barPosition: barPosition,\n            offset: offset,\n            stackedData: stackedData,\n            layout: layout,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }))), {}, (_objectSpread7 = {\n            key: item.key || \"item-\".concat(index)\n          }, _defineProperty(_objectSpread7, numericAxisName, axisObj[numericAxisName]), _defineProperty(_objectSpread7, cateAxisName, axisObj[cateAxisName]), _defineProperty(_objectSpread7, \"animationId\", updateId), _objectSpread7)),\n          childIndex: parseChildIndex(item, props.children),\n          item: item\n        });\n      }\n    });\n    return formattedItems;\n  };\n  /**\n   * The AxisMaps are expensive to render on large data sets\n   * so provide the ability to store them in state and only update them when necessary\n   * they are dependent upon the start and end index of\n   * the brush so it's important that this method is called _after_\n   * the state is updated with any new start/end indices\n   *\n   * @param {Object} props          The props object to be used for updating the axismaps\n   * dataStartIndex: The start index of the data series when a brush is applied\n   * dataEndIndex: The end index of the data series when a brush is applied\n   * updateId: The update id\n   * @param {Object} prevState      Prev state\n   * @return {Object} state New state to set\n   */\n\n\n  var updateStateOfAxisMapsOffsetAndStackGroups = function updateStateOfAxisMapsOffsetAndStackGroups(_ref8, prevState) {\n    var props = _ref8.props,\n        dataStartIndex = _ref8.dataStartIndex,\n        dataEndIndex = _ref8.dataEndIndex,\n        updateId = _ref8.updateId;\n\n    if (!validateWidthHeight({\n      props: props\n    })) {\n      return null;\n    }\n\n    var children = props.children,\n        layout = props.layout,\n        stackOffset = props.stackOffset,\n        data = props.data,\n        reverseStackOrder = props.reverseStackOrder;\n\n    var _getAxisNameByLayout2 = getAxisNameByLayout(layout),\n        numericAxisName = _getAxisNameByLayout2.numericAxisName,\n        cateAxisName = _getAxisNameByLayout2.cateAxisName;\n\n    var graphicalItems = findAllByType(children, GraphicalChild);\n    var stackGroups = getStackGroupsByAxisId(data, graphicalItems, \"\".concat(numericAxisName, \"Id\"), \"\".concat(cateAxisName, \"Id\"), stackOffset, reverseStackOrder);\n    var axisObj = axisComponents.reduce(function (result, entry) {\n      var name = \"\".concat(entry.axisType, \"Map\");\n      return _objectSpread(_objectSpread({}, result), {}, _defineProperty({}, name, getAxisMap(props, _objectSpread(_objectSpread({}, entry), {}, {\n        graphicalItems: graphicalItems,\n        stackGroups: entry.axisType === numericAxisName && stackGroups,\n        dataStartIndex: dataStartIndex,\n        dataEndIndex: dataEndIndex\n      }))));\n    }, {});\n    var offset = calculateOffset(_objectSpread(_objectSpread({}, axisObj), {}, {\n      props: props,\n      graphicalItems: graphicalItems\n    }), prevState === null || prevState === void 0 ? void 0 : prevState.legendBBox);\n    Object.keys(axisObj).forEach(function (key) {\n      axisObj[key] = formatAxisMap(props, axisObj[key], offset, key.replace('Map', ''), chartName);\n    });\n    var cateAxisMap = axisObj[\"\".concat(cateAxisName, \"Map\")];\n    var ticksObj = tooltipTicksGenerator(cateAxisMap);\n    var formattedGraphicalItems = getFormatItems(props, _objectSpread(_objectSpread({}, axisObj), {}, {\n      dataStartIndex: dataStartIndex,\n      dataEndIndex: dataEndIndex,\n      updateId: updateId,\n      graphicalItems: graphicalItems,\n      stackGroups: stackGroups,\n      offset: offset\n    }));\n    return _objectSpread(_objectSpread({\n      formattedGraphicalItems: formattedGraphicalItems,\n      graphicalItems: graphicalItems,\n      offset: offset,\n      stackGroups: stackGroups\n    }, ticksObj), axisObj);\n  };\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(CategoricalChartWrapper, _Component);\n\n    var _super = _createSuper(CategoricalChartWrapper);\n\n    // todo join specific chart propTypes\n    function CategoricalChartWrapper(_props) {\n      var _this;\n\n      _classCallCheck(this, CategoricalChartWrapper);\n\n      _this = _super.call(this, _props);\n      _this.uniqueChartId = void 0;\n      _this.clipPathId = void 0;\n      _this.legendInstance = void 0;\n      _this.deferId = void 0;\n      _this.container = void 0;\n\n      _this.clearDeferId = function () {\n        if (!_isNil(_this.deferId) && deferClear) {\n          deferClear(_this.deferId);\n        }\n\n        _this.deferId = null;\n      };\n\n      _this.handleLegendBBoxUpdate = function (box) {\n        if (box) {\n          var _this$state = _this.state,\n              dataStartIndex = _this$state.dataStartIndex,\n              dataEndIndex = _this$state.dataEndIndex,\n              updateId = _this$state.updateId;\n\n          _this.setState(_objectSpread({\n            legendBBox: box\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: _this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, _objectSpread(_objectSpread({}, _this.state), {}, {\n            legendBBox: box\n          }))));\n        }\n      };\n\n      _this.handleReceiveSyncEvent = function (cId, chartId, data) {\n        var syncId = _this.props.syncId;\n\n        if (syncId === cId && chartId !== _this.uniqueChartId) {\n          _this.clearDeferId();\n\n          _this.deferId = defer && defer(_this.applySyncEvent.bind(_assertThisInitialized(_this), data));\n        }\n      };\n\n      _this.handleBrushChange = function (_ref9) {\n        var startIndex = _ref9.startIndex,\n            endIndex = _ref9.endIndex;\n\n        // Only trigger changes if the extents of the brush have actually changed\n        if (startIndex !== _this.state.dataStartIndex || endIndex !== _this.state.dataEndIndex) {\n          var updateId = _this.state.updateId;\n\n          _this.setState(function () {\n            return _objectSpread({\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex\n            }, updateStateOfAxisMapsOffsetAndStackGroups({\n              props: _this.props,\n              dataStartIndex: startIndex,\n              dataEndIndex: endIndex,\n              updateId: updateId\n            }, _this.state));\n          });\n\n          _this.triggerSyncEvent({\n            dataStartIndex: startIndex,\n            dataEndIndex: endIndex\n          });\n        }\n      };\n\n      _this.handleMouseEnter = function (e) {\n        var onMouseEnter = _this.props.onMouseEnter;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState);\n\n          _this.triggerSyncEvent(_nextState);\n\n          if (_isFunction(onMouseEnter)) {\n            onMouseEnter(_nextState, e);\n          }\n        }\n      };\n\n      _this.triggeredAfterMouseMove = function (e) {\n        var onMouseMove = _this.props.onMouseMove;\n\n        var mouse = _this.getMouseInfo(e);\n\n        var nextState = mouse ? _objectSpread(_objectSpread({}, mouse), {}, {\n          isTooltipActive: true\n        }) : {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseMove)) {\n          onMouseMove(nextState, e);\n        }\n      };\n\n      _this.handleItemMouseEnter = function (el) {\n        _this.setState(function () {\n          return {\n            isTooltipActive: true,\n            activeItem: el,\n            activePayload: el.tooltipPayload,\n            activeCoordinate: el.tooltipPosition || {\n              x: el.cx,\n              y: el.cy\n            }\n          };\n        });\n      };\n\n      _this.handleItemMouseLeave = function () {\n        _this.setState(function () {\n          return {\n            isTooltipActive: false\n          };\n        });\n      };\n\n      _this.handleMouseMove = function (e) {\n        if (e && _isFunction(e.persist)) {\n          e.persist();\n        }\n\n        _this.triggeredAfterMouseMove(e);\n      };\n\n      _this.handleMouseLeave = function (e) {\n        var onMouseLeave = _this.props.onMouseLeave;\n        var nextState = {\n          isTooltipActive: false\n        };\n\n        _this.setState(nextState);\n\n        _this.triggerSyncEvent(nextState);\n\n        if (_isFunction(onMouseLeave)) {\n          onMouseLeave(nextState, e);\n        }\n\n        _this.cancelThrottledTriggerAfterMouseMove();\n      };\n\n      _this.handleOuterEvent = function (e) {\n        var eventName = getReactEventByType(e);\n\n        var event = _get(_this.props, \"\".concat(eventName));\n\n        if (eventName && _isFunction(event)) {\n          var mouse;\n\n          if (/.*touch.*/i.test(eventName)) {\n            mouse = _this.getMouseInfo(e.changedTouches[0]);\n          } else {\n            mouse = _this.getMouseInfo(e);\n          }\n\n          var handler = event;\n          handler(mouse, e);\n        }\n      };\n\n      _this.handleClick = function (e) {\n        var onClick = _this.props.onClick;\n\n        var mouse = _this.getMouseInfo(e);\n\n        if (mouse) {\n          var _nextState2 = _objectSpread(_objectSpread({}, mouse), {}, {\n            isTooltipActive: true\n          });\n\n          _this.setState(_nextState2);\n\n          _this.triggerSyncEvent(_nextState2);\n\n          if (_isFunction(onClick)) {\n            onClick(_nextState2, e);\n          }\n        }\n      };\n\n      _this.handleMouseDown = function (e) {\n        var onMouseDown = _this.props.onMouseDown;\n\n        if (_isFunction(onMouseDown)) {\n          var _nextState3 = _this.getMouseInfo(e);\n\n          onMouseDown(_nextState3, e);\n        }\n      };\n\n      _this.handleMouseUp = function (e) {\n        var onMouseUp = _this.props.onMouseUp;\n\n        if (_isFunction(onMouseUp)) {\n          var _nextState4 = _this.getMouseInfo(e);\n\n          onMouseUp(_nextState4, e);\n        }\n      };\n\n      _this.handleTouchMove = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseMove(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchStart = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseDown(e.changedTouches[0]);\n        }\n      };\n\n      _this.handleTouchEnd = function (e) {\n        if (e.changedTouches != null && e.changedTouches.length > 0) {\n          _this.handleMouseUp(e.changedTouches[0]);\n        }\n      };\n\n      _this.verticalCoordinatesGenerator = function (_ref10) {\n        var xAxis = _ref10.xAxis,\n            width = _ref10.width,\n            height = _ref10.height,\n            offset = _ref10.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), xAxis), {}, {\n          ticks: getTicksOfAxis(xAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.left, offset.left + offset.width);\n      };\n\n      _this.horizontalCoordinatesGenerator = function (_ref11) {\n        var yAxis = _ref11.yAxis,\n            width = _ref11.width,\n            height = _ref11.height,\n            offset = _ref11.offset;\n        return getCoordinatesOfGrid(CartesianAxis.getTicks(_objectSpread(_objectSpread(_objectSpread({}, CartesianAxis.defaultProps), yAxis), {}, {\n          ticks: getTicksOfAxis(yAxis, true),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          }\n        })), offset.top, offset.top + offset.height);\n      };\n\n      _this.axesTicksGenerator = function (axis) {\n        return getTicksOfAxis(axis, true);\n      };\n\n      _this.renderCursor = function (element) {\n        var _this$state2 = _this.state,\n            isTooltipActive = _this$state2.isTooltipActive,\n            activeCoordinate = _this$state2.activeCoordinate,\n            activePayload = _this$state2.activePayload,\n            offset = _this$state2.offset,\n            activeTooltipIndex = _this$state2.activeTooltipIndex;\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        if (!element || !element.props.cursor || !isTooltipActive || !activeCoordinate || chartName !== 'ScatterChart' && tooltipEventType !== 'axis') {\n          return null;\n        }\n\n        var layout = _this.props.layout;\n        var restProps;\n        var cursorComp = Curve;\n\n        if (chartName === 'ScatterChart') {\n          restProps = activeCoordinate;\n          cursorComp = Cross;\n        } else if (chartName === 'BarChart') {\n          restProps = _this.getCursorRectangle();\n          cursorComp = Rectangle;\n        } else if (layout === 'radial') {\n          var _this$getCursorPoints = _this.getCursorPoints(),\n              cx = _this$getCursorPoints.cx,\n              cy = _this$getCursorPoints.cy,\n              radius = _this$getCursorPoints.radius,\n              startAngle = _this$getCursorPoints.startAngle,\n              endAngle = _this$getCursorPoints.endAngle;\n\n          restProps = {\n            cx: cx,\n            cy: cy,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            innerRadius: radius,\n            outerRadius: radius\n          };\n          cursorComp = Sector;\n        } else {\n          restProps = {\n            points: _this.getCursorPoints()\n          };\n          cursorComp = Curve;\n        }\n\n        var key = element.key || '_recharts-cursor';\n\n        var cursorProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          stroke: '#ccc',\n          pointerEvents: 'none'\n        }, offset), restProps), filterProps(element.props.cursor)), {}, {\n          payload: activePayload,\n          payloadIndex: activeTooltipIndex,\n          key: key,\n          className: 'recharts-tooltip-cursor'\n        });\n\n        return /*#__PURE__*/isValidElement(element.props.cursor) ? /*#__PURE__*/cloneElement(element.props.cursor, cursorProps) : /*#__PURE__*/createElement(cursorComp, cursorProps);\n      };\n\n      _this.renderPolarAxis = function (element, displayName, index) {\n        var axisType = _get(element, 'type.axisType');\n\n        var axisMap = _get(_this.state, \"\".concat(axisType, \"Map\"));\n\n        var axisOption = axisMap[element.props[\"\".concat(axisType, \"Id\")]];\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, axisOption), {}, {\n          className: axisType,\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          ticks: getTicksOfAxis(axisOption, true)\n        }));\n      };\n\n      _this.renderXAxis = function (element, displayName, index) {\n        var xAxisMap = _this.state.xAxisMap;\n        var axisObj = xAxisMap[element.props.xAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderYAxis = function (element, displayName, index) {\n        var yAxisMap = _this.state.yAxisMap;\n        var axisObj = yAxisMap[element.props.yAxisId];\n        return _this.renderAxis(axisObj, element, displayName, index);\n      };\n\n      _this.renderGrid = function (element) {\n        var _this$state3 = _this.state,\n            xAxisMap = _this$state3.xAxisMap,\n            yAxisMap = _this$state3.yAxisMap,\n            offset = _this$state3.offset;\n        var _this$props = _this.props,\n            width = _this$props.width,\n            height = _this$props.height;\n        var xAxis = getAnyElementOfObject(xAxisMap);\n\n        var yAxisWithFiniteDomain = _find(yAxisMap, function (axis) {\n          return _every(axis.domain, isFinit);\n        });\n\n        var yAxis = yAxisWithFiniteDomain || getAnyElementOfObject(yAxisMap);\n        var props = element.props || {};\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || 'grid',\n          x: isNumber(props.x) ? props.x : offset.left,\n          y: isNumber(props.y) ? props.y : offset.top,\n          width: isNumber(props.width) ? props.width : offset.width,\n          height: isNumber(props.height) ? props.height : offset.height,\n          xAxis: xAxis,\n          yAxis: yAxis,\n          offset: offset,\n          chartWidth: width,\n          chartHeight: height,\n          verticalCoordinatesGenerator: props.verticalCoordinatesGenerator || _this.verticalCoordinatesGenerator,\n          horizontalCoordinatesGenerator: props.horizontalCoordinatesGenerator || _this.horizontalCoordinatesGenerator\n        });\n      };\n\n      _this.renderPolarGrid = function (element) {\n        var _element$props = element.props,\n            radialLines = _element$props.radialLines,\n            polarAngles = _element$props.polarAngles,\n            polarRadius = _element$props.polarRadius;\n        var _this$state4 = _this.state,\n            radiusAxisMap = _this$state4.radiusAxisMap,\n            angleAxisMap = _this$state4.angleAxisMap;\n        var radiusAxis = getAnyElementOfObject(radiusAxisMap);\n        var angleAxis = getAnyElementOfObject(angleAxisMap);\n        var cx = angleAxis.cx,\n            cy = angleAxis.cy,\n            innerRadius = angleAxis.innerRadius,\n            outerRadius = angleAxis.outerRadius;\n        return /*#__PURE__*/cloneElement(element, {\n          polarAngles: _isArray(polarAngles) ? polarAngles : getTicksOfAxis(angleAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          polarRadius: _isArray(polarRadius) ? polarRadius : getTicksOfAxis(radiusAxis, true).map(function (entry) {\n            return entry.coordinate;\n          }),\n          cx: cx,\n          cy: cy,\n          innerRadius: innerRadius,\n          outerRadius: outerRadius,\n          key: element.key || 'polar-grid',\n          radialLines: radialLines\n        });\n      };\n\n      _this.renderLegend = function () {\n        var formattedGraphicalItems = _this.state.formattedGraphicalItems;\n        var _this$props2 = _this.props,\n            children = _this$props2.children,\n            width = _this$props2.width,\n            height = _this$props2.height;\n        var margin = _this.props.margin || {};\n        var legendWidth = width - (margin.left || 0) - (margin.right || 0);\n        var props = getLegendProps({\n          children: children,\n          formattedGraphicalItems: formattedGraphicalItems,\n          legendWidth: legendWidth,\n          legendContent: legendContent\n        });\n\n        if (!props) {\n          return null;\n        }\n\n        var item = props.item,\n            otherProps = _objectWithoutProperties(props, [\"item\"]);\n\n        return /*#__PURE__*/cloneElement(item, _objectSpread(_objectSpread({}, otherProps), {}, {\n          chartWidth: width,\n          chartHeight: height,\n          margin: margin,\n          ref: function ref(legend) {\n            _this.legendInstance = legend;\n          },\n          onBBoxUpdate: _this.handleLegendBBoxUpdate\n        }));\n      };\n\n      _this.renderTooltip = function () {\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n\n        if (!tooltipItem) {\n          return null;\n        }\n\n        var _this$state5 = _this.state,\n            isTooltipActive = _this$state5.isTooltipActive,\n            activeCoordinate = _this$state5.activeCoordinate,\n            activePayload = _this$state5.activePayload,\n            activeLabel = _this$state5.activeLabel,\n            offset = _this$state5.offset;\n        return /*#__PURE__*/cloneElement(tooltipItem, {\n          viewBox: _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }),\n          active: isTooltipActive,\n          label: activeLabel,\n          payload: isTooltipActive ? activePayload : [],\n          coordinate: activeCoordinate\n        });\n      };\n\n      _this.renderBrush = function (element) {\n        var _this$props3 = _this.props,\n            margin = _this$props3.margin,\n            data = _this$props3.data;\n        var _this$state6 = _this.state,\n            offset = _this$state6.offset,\n            dataStartIndex = _this$state6.dataStartIndex,\n            dataEndIndex = _this$state6.dataEndIndex,\n            updateId = _this$state6.updateId; // TODO: update brush when children update\n\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || '_recharts-brush',\n          onChange: combineEventHandlers(_this.handleBrushChange, null, element.props.onChange),\n          data: data,\n          x: isNumber(element.props.x) ? element.props.x : offset.left,\n          y: isNumber(element.props.y) ? element.props.y : offset.top + offset.height + offset.brushBottom - (margin.bottom || 0),\n          width: isNumber(element.props.width) ? element.props.width : offset.width,\n          startIndex: dataStartIndex,\n          endIndex: dataEndIndex,\n          updateId: \"brush-\".concat(updateId)\n        });\n      };\n\n      _this.renderReferenceElement = function (element, displayName, index) {\n        if (!element) {\n          return null;\n        }\n\n        var _assertThisInitialize = _assertThisInitialized(_this),\n            clipPathId = _assertThisInitialize.clipPathId;\n\n        var _this$state7 = _this.state,\n            xAxisMap = _this$state7.xAxisMap,\n            yAxisMap = _this$state7.yAxisMap,\n            offset = _this$state7.offset;\n        var _element$props2 = element.props,\n            xAxisId = _element$props2.xAxisId,\n            yAxisId = _element$props2.yAxisId;\n        return /*#__PURE__*/cloneElement(element, {\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          xAxis: xAxisMap[xAxisId],\n          yAxis: yAxisMap[yAxisId],\n          viewBox: {\n            x: offset.left,\n            y: offset.top,\n            width: offset.width,\n            height: offset.height\n          },\n          clipPathId: clipPathId\n        });\n      };\n\n      _this.renderActivePoints = function (_ref12) {\n        var item = _ref12.item,\n            activePoint = _ref12.activePoint,\n            basePoint = _ref12.basePoint,\n            childIndex = _ref12.childIndex,\n            isRange = _ref12.isRange;\n        var result = [];\n        var key = item.props.key;\n        var _item$item$props = item.item.props,\n            activeDot = _item$item$props.activeDot,\n            dataKey = _item$item$props.dataKey;\n\n        var dotProps = _objectSpread(_objectSpread({\n          index: childIndex,\n          dataKey: dataKey,\n          cx: activePoint.x,\n          cy: activePoint.y,\n          r: 4,\n          fill: getMainColorOfGraphicItem(item.item),\n          strokeWidth: 2,\n          stroke: '#fff',\n          payload: activePoint.payload,\n          value: activePoint.value,\n          key: \"\".concat(key, \"-activePoint-\").concat(childIndex)\n        }, filterProps(activeDot)), adaptEventHandlers(activeDot));\n\n        result.push(CategoricalChartWrapper.renderActiveDot(activeDot, dotProps));\n\n        if (basePoint) {\n          result.push(CategoricalChartWrapper.renderActiveDot(activeDot, _objectSpread(_objectSpread({}, dotProps), {}, {\n            cx: basePoint.x,\n            cy: basePoint.y,\n            key: \"\".concat(key, \"-basePoint-\").concat(childIndex)\n          })));\n        } else if (isRange) {\n          result.push(null);\n        }\n\n        return result;\n      };\n\n      _this.renderGraphicChild = function (element, displayName, index) {\n        var item = _this.filterFormatItem(element, displayName, index);\n\n        if (!item) {\n          return null;\n        }\n\n        var tooltipEventType = _this.getTooltipEventType();\n\n        var _this$state8 = _this.state,\n            isTooltipActive = _this$state8.isTooltipActive,\n            tooltipAxis = _this$state8.tooltipAxis,\n            activeTooltipIndex = _this$state8.activeTooltipIndex,\n            activeLabel = _this$state8.activeLabel;\n        var children = _this.props.children;\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var _item$props2 = item.props,\n            points = _item$props2.points,\n            isRange = _item$props2.isRange,\n            baseLine = _item$props2.baseLine;\n        var _item$item$props2 = item.item.props,\n            activeDot = _item$item$props2.activeDot,\n            hide = _item$item$props2.hide;\n        var hasActive = !hide && isTooltipActive && tooltipItem && activeDot && activeTooltipIndex >= 0;\n        var itemEvents = {};\n\n        if (tooltipEventType !== 'axis' && tooltipItem && tooltipItem.props.trigger === 'click') {\n          itemEvents = {\n            onClick: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onCLick)\n          };\n        } else if (tooltipEventType !== 'axis') {\n          itemEvents = {\n            onMouseLeave: combineEventHandlers(_this.handleItemMouseLeave, null, element.props.onMouseLeave),\n            onMouseEnter: combineEventHandlers(_this.handleItemMouseEnter, null, element.props.onMouseEnter)\n          };\n        }\n\n        var graphicalItem = /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({}, item.props), itemEvents));\n\n        function findWithPayload(entry) {\n          // TODO needs to verify dataKey is Function\n          return typeof tooltipAxis.dataKey === 'function' ? tooltipAxis.dataKey(entry.payload) : null;\n        }\n\n        if (hasActive) {\n          var activePoint, basePoint;\n\n          if (tooltipAxis.dataKey && !tooltipAxis.allowDuplicatedCategory) {\n            // number transform to string\n            var specifiedKey = typeof tooltipAxis.dataKey === 'function' ? findWithPayload : 'payload.'.concat(tooltipAxis.dataKey.toString());\n            activePoint = findEntryInArray(points, specifiedKey, activeLabel);\n            basePoint = isRange && baseLine && findEntryInArray(baseLine, specifiedKey, activeLabel);\n          } else {\n            activePoint = points[activeTooltipIndex];\n            basePoint = isRange && baseLine && baseLine[activeTooltipIndex];\n          }\n\n          if (!_isNil(activePoint)) {\n            return [graphicalItem].concat(_toConsumableArray(_this.renderActivePoints({\n              item: item,\n              activePoint: activePoint,\n              basePoint: basePoint,\n              childIndex: activeTooltipIndex,\n              isRange: isRange\n            })));\n          }\n        }\n\n        if (isRange) {\n          return [graphicalItem, null, null];\n        }\n\n        return [graphicalItem, null];\n      };\n\n      _this.renderCustomized = function (element, displayName, index) {\n        return /*#__PURE__*/cloneElement(element, _objectSpread(_objectSpread({\n          key: \"recharts-customized-\".concat(index)\n        }, _this.props), _this.state));\n      };\n\n      _this.uniqueChartId = _isNil(_props.id) ? uniqueId('recharts') : _props.id;\n      _this.clipPathId = \"\".concat(_this.uniqueChartId, \"-clip\");\n\n      if (_props.throttleDelay) {\n        _this.triggeredAfterMouseMove = _throttle(_this.triggeredAfterMouseMove, _props.throttleDelay);\n      }\n\n      _this.state = {};\n      return _this;\n    }\n    /* eslint-disable  react/no-did-mount-set-state */\n\n\n    _createClass(CategoricalChartWrapper, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        if (!_isNil(this.props.syncId)) {\n          this.addListener();\n        }\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // add syncId\n        if (_isNil(prevProps.syncId) && !_isNil(this.props.syncId)) {\n          this.addListener();\n        } // remove syncId\n\n\n        if (!_isNil(prevProps.syncId) && _isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.clearDeferId();\n\n        if (!_isNil(this.props.syncId)) {\n          this.removeListener();\n        }\n\n        this.cancelThrottledTriggerAfterMouseMove();\n      }\n    }, {\n      key: \"cancelThrottledTriggerAfterMouseMove\",\n      value: function cancelThrottledTriggerAfterMouseMove() {\n        if (typeof this.triggeredAfterMouseMove.cancel === 'function') {\n          this.triggeredAfterMouseMove.cancel();\n        }\n      }\n    }, {\n      key: \"getTooltipEventType\",\n      value: function getTooltipEventType() {\n        var tooltipItem = findChildByType(this.props.children, Tooltip.displayName);\n\n        if (tooltipItem && _isBoolean(tooltipItem.props.shared)) {\n          var eventType = tooltipItem.props.shared ? 'axis' : 'item';\n          return validateTooltipEventTypes.indexOf(eventType) >= 0 ? eventType : defaultTooltipEventType;\n        }\n\n        return defaultTooltipEventType;\n      }\n      /**\n       * Get the information of mouse in chart, return null when the mouse is not in the chart\n       * @param  {Object} event    The event object\n       * @return {Object}          Mouse data\n       */\n\n    }, {\n      key: \"getMouseInfo\",\n      value: function getMouseInfo(event) {\n        if (!this.container) {\n          return null;\n        }\n\n        var containerOffset = getOffset(this.container);\n        var e = calculateChartCoordinate(event, containerOffset);\n        var rangeObj = this.inRange(e.chartX, e.chartY);\n\n        if (!rangeObj) {\n          return null;\n        }\n\n        var _this$state9 = this.state,\n            xAxisMap = _this$state9.xAxisMap,\n            yAxisMap = _this$state9.yAxisMap;\n        var tooltipEventType = this.getTooltipEventType();\n\n        if (tooltipEventType !== 'axis' && xAxisMap && yAxisMap) {\n          var xScale = getAnyElementOfObject(xAxisMap).scale;\n          var yScale = getAnyElementOfObject(yAxisMap).scale;\n          var xValue = xScale && xScale.invert ? xScale.invert(e.chartX) : null;\n          var yValue = yScale && yScale.invert ? yScale.invert(e.chartY) : null;\n          return _objectSpread(_objectSpread({}, e), {}, {\n            xValue: xValue,\n            yValue: yValue\n          });\n        }\n\n        var toolTipData = getTooltipData(this.state, this.props.data, this.props.layout, rangeObj);\n\n        if (toolTipData) {\n          return _objectSpread(_objectSpread({}, e), toolTipData);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"getCursorRectangle\",\n      value: function getCursorRectangle() {\n        var layout = this.props.layout;\n        var _this$state10 = this.state,\n            activeCoordinate = _this$state10.activeCoordinate,\n            offset = _this$state10.offset,\n            tooltipAxisBandSize = _this$state10.tooltipAxisBandSize;\n        var halfSize = tooltipAxisBandSize / 2;\n        return {\n          stroke: 'none',\n          fill: '#ccc',\n          x: layout === 'horizontal' ? activeCoordinate.x - halfSize : offset.left + 0.5,\n          y: layout === 'horizontal' ? offset.top + 0.5 : activeCoordinate.y - halfSize,\n          width: layout === 'horizontal' ? tooltipAxisBandSize : offset.width - 1,\n          height: layout === 'horizontal' ? offset.height - 1 : tooltipAxisBandSize\n        };\n      }\n    }, {\n      key: \"getCursorPoints\",\n      value: function getCursorPoints() {\n        var layout = this.props.layout;\n        var _this$state11 = this.state,\n            activeCoordinate = _this$state11.activeCoordinate,\n            offset = _this$state11.offset;\n        var x1, y1, x2, y2;\n\n        if (layout === 'horizontal') {\n          x1 = activeCoordinate.x;\n          x2 = x1;\n          y1 = offset.top;\n          y2 = offset.top + offset.height;\n        } else if (layout === 'vertical') {\n          y1 = activeCoordinate.y;\n          y2 = y1;\n          x1 = offset.left;\n          x2 = offset.left + offset.width;\n        } else if (!_isNil(activeCoordinate.cx) || !_isNil(activeCoordinate.cy)) {\n          if (layout === 'centric') {\n            var cx = activeCoordinate.cx,\n                cy = activeCoordinate.cy,\n                innerRadius = activeCoordinate.innerRadius,\n                outerRadius = activeCoordinate.outerRadius,\n                angle = activeCoordinate.angle;\n            var innerPoint = polarToCartesian(cx, cy, innerRadius, angle);\n            var outerPoint = polarToCartesian(cx, cy, outerRadius, angle);\n            x1 = innerPoint.x;\n            y1 = innerPoint.y;\n            x2 = outerPoint.x;\n            y2 = outerPoint.y;\n          } else {\n            var _cx = activeCoordinate.cx,\n                _cy = activeCoordinate.cy,\n                radius = activeCoordinate.radius,\n                startAngle = activeCoordinate.startAngle,\n                endAngle = activeCoordinate.endAngle;\n            var startPoint = polarToCartesian(_cx, _cy, radius, startAngle);\n            var endPoint = polarToCartesian(_cx, _cy, radius, endAngle);\n            return {\n              points: [startPoint, endPoint],\n              cx: _cx,\n              cy: _cy,\n              radius: radius,\n              startAngle: startAngle,\n              endAngle: endAngle\n            };\n          }\n        }\n\n        return [{\n          x: x1,\n          y: y1\n        }, {\n          x: x2,\n          y: y2\n        }];\n      }\n    }, {\n      key: \"inRange\",\n      value: function inRange(x, y) {\n        var layout = this.props.layout;\n\n        if (layout === 'horizontal' || layout === 'vertical') {\n          var offset = this.state.offset;\n          var isInRange = x >= offset.left && x <= offset.left + offset.width && y >= offset.top && y <= offset.top + offset.height;\n          return isInRange ? {\n            x: x,\n            y: y\n          } : null;\n        }\n\n        var _this$state12 = this.state,\n            angleAxisMap = _this$state12.angleAxisMap,\n            radiusAxisMap = _this$state12.radiusAxisMap;\n\n        if (angleAxisMap && radiusAxisMap) {\n          var angleAxis = getAnyElementOfObject(angleAxisMap);\n          return inRangeOfSector({\n            x: x,\n            y: y\n          }, angleAxis);\n        }\n\n        return null;\n      }\n    }, {\n      key: \"parseEventsOfWrapper\",\n      value: function parseEventsOfWrapper() {\n        var children = this.props.children;\n        var tooltipEventType = this.getTooltipEventType();\n        var tooltipItem = findChildByType(children, Tooltip.displayName);\n        var tooltipEvents = {};\n\n        if (tooltipItem && tooltipEventType === 'axis') {\n          if (tooltipItem.props.trigger === 'click') {\n            tooltipEvents = {\n              onClick: this.handleClick\n            };\n          } else {\n            tooltipEvents = {\n              onMouseEnter: this.handleMouseEnter,\n              onMouseMove: this.handleMouseMove,\n              onMouseLeave: this.handleMouseLeave,\n              onTouchMove: this.handleTouchMove,\n              onTouchStart: this.handleTouchStart,\n              onTouchEnd: this.handleTouchEnd\n            };\n          }\n        }\n\n        var outerEvents = adaptEventHandlers(this.props, this.handleOuterEvent);\n        return _objectSpread(_objectSpread({}, outerEvents), tooltipEvents);\n      }\n      /* eslint-disable  no-underscore-dangle */\n\n    }, {\n      key: \"addListener\",\n      value: function addListener() {\n        eventCenter.on(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners + 1);\n        }\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener() {\n        eventCenter.removeListener(SYNC_EVENT, this.handleReceiveSyncEvent);\n\n        if (eventCenter.setMaxListeners && eventCenter._maxListeners) {\n          eventCenter.setMaxListeners(eventCenter._maxListeners - 1);\n        }\n      }\n    }, {\n      key: \"triggerSyncEvent\",\n      value: function triggerSyncEvent(data) {\n        var syncId = this.props.syncId;\n\n        if (!_isNil(syncId)) {\n          eventCenter.emit(SYNC_EVENT, syncId, this.uniqueChartId, data);\n        }\n      }\n    }, {\n      key: \"applySyncEvent\",\n      value: function applySyncEvent(data) {\n        var _this$props4 = this.props,\n            layout = _this$props4.layout,\n            syncMethod = _this$props4.syncMethod;\n        var updateId = this.state.updateId;\n        var dataStartIndex = data.dataStartIndex,\n            dataEndIndex = data.dataEndIndex;\n\n        if (!_isNil(data.dataStartIndex) || !_isNil(data.dataEndIndex)) {\n          this.setState(_objectSpread({\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex\n          }, updateStateOfAxisMapsOffsetAndStackGroups({\n            props: this.props,\n            dataStartIndex: dataStartIndex,\n            dataEndIndex: dataEndIndex,\n            updateId: updateId\n          }, this.state)));\n        } else if (!_isNil(data.activeTooltipIndex)) {\n          var chartX = data.chartX,\n              chartY = data.chartY;\n          var activeTooltipIndex = data.activeTooltipIndex;\n          var _this$state13 = this.state,\n              offset = _this$state13.offset,\n              tooltipTicks = _this$state13.tooltipTicks;\n\n          if (!offset) {\n            return;\n          }\n\n          if (typeof syncMethod === 'function') {\n            // Call a callback function. If there is an application specific algorithm\n            activeTooltipIndex = syncMethod(tooltipTicks, data);\n          } else if (syncMethod === 'value') {\n            // Set activeTooltipIndex to the index with the same value as data.activeLabel\n            // For loop instead of findIndex because the latter is very slow in some browsers\n            activeTooltipIndex = -1; // in case we cannot find the element\n\n            for (var i = 0; i < tooltipTicks.length; i++) {\n              if (tooltipTicks[i].value === data.activeLabel) {\n                activeTooltipIndex = i;\n                break;\n              }\n            }\n          }\n\n          var viewBox = _objectSpread(_objectSpread({}, offset), {}, {\n            x: offset.left,\n            y: offset.top\n          }); // When a categotical chart is combined with another chart, the value of chartX\n          // and chartY may beyond the boundaries.\n\n\n          var validateChartX = Math.min(chartX, viewBox.x + viewBox.width);\n          var validateChartY = Math.min(chartY, viewBox.y + viewBox.height);\n          var activeLabel = tooltipTicks[activeTooltipIndex] && tooltipTicks[activeTooltipIndex].value;\n          var activePayload = getTooltipContent(this.state, this.props.data, activeTooltipIndex);\n          var activeCoordinate = tooltipTicks[activeTooltipIndex] ? {\n            x: layout === 'horizontal' ? tooltipTicks[activeTooltipIndex].coordinate : validateChartX,\n            y: layout === 'horizontal' ? validateChartY : tooltipTicks[activeTooltipIndex].coordinate\n          } : originCoordinate;\n          this.setState(_objectSpread(_objectSpread({}, data), {}, {\n            activeLabel: activeLabel,\n            activeCoordinate: activeCoordinate,\n            activePayload: activePayload,\n            activeTooltipIndex: activeTooltipIndex\n          }));\n        } else {\n          this.setState(data);\n        }\n      }\n    }, {\n      key: \"filterFormatItem\",\n      value: function filterFormatItem(item, displayName, childIndex) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n          var entry = formattedGraphicalItems[i];\n\n          if (entry.item === item || entry.props.key === item.key || displayName === getDisplayName(entry.item.type) && childIndex === entry.childIndex) {\n            return entry;\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"renderAxis\",\n      value:\n      /**\n       * Draw axis\n       * @param {Object} axisOptions The options of axis\n       * @param {Object} element      The axis element\n       * @param {String} displayName  The display name of axis\n       * @param {Number} index        The index of element\n       * @return {ReactElement}       The instance of x-axes\n       */\n      function renderAxis(axisOptions, element, displayName, index) {\n        var _this$props5 = this.props,\n            width = _this$props5.width,\n            height = _this$props5.height;\n        return /*#__PURE__*/React.createElement(CartesianAxis, _extends({}, axisOptions, {\n          className: \"recharts-\".concat(axisOptions.axisType, \" \").concat(axisOptions.axisType),\n          key: element.key || \"\".concat(displayName, \"-\").concat(index),\n          viewBox: {\n            x: 0,\n            y: 0,\n            width: width,\n            height: height\n          },\n          ticksGenerator: this.axesTicksGenerator\n        }));\n      }\n      /**\n       * Draw grid\n       * @param  {ReactElement} element the grid item\n       * @return {ReactElement} The instance of grid\n       */\n\n    }, {\n      key: \"renderClipPath\",\n      value: function renderClipPath() {\n        var clipPathId = this.clipPathId;\n        var _this$state$offset = this.state.offset,\n            left = _this$state$offset.left,\n            top = _this$state$offset.top,\n            height = _this$state$offset.height,\n            width = _this$state$offset.width;\n        return /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: clipPathId\n        }, /*#__PURE__*/React.createElement(\"rect\", {\n          x: left,\n          y: top,\n          height: height,\n          width: width\n        })));\n      }\n    }, {\n      key: \"getXScales\",\n      value: function getXScales() {\n        var xAxisMap = this.state.xAxisMap;\n        return xAxisMap ? Object.entries(xAxisMap).reduce(function (res, _ref13) {\n          var _ref14 = _slicedToArray(_ref13, 2),\n              axisId = _ref14[0],\n              axisProps = _ref14[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getYScales\",\n      value: function getYScales() {\n        var yAxisMap = this.state.yAxisMap;\n        return yAxisMap ? Object.entries(yAxisMap).reduce(function (res, _ref15) {\n          var _ref16 = _slicedToArray(_ref15, 2),\n              axisId = _ref16[0],\n              axisProps = _ref16[1];\n\n          return _objectSpread(_objectSpread({}, res), {}, _defineProperty({}, axisId, axisProps.scale));\n        }, {}) : null;\n      }\n    }, {\n      key: \"getXScaleByAxisId\",\n      value: function getXScaleByAxisId(axisId) {\n        var _this$state$xAxisMap, _this$state$xAxisMap$;\n\n        return (_this$state$xAxisMap = this.state.xAxisMap) === null || _this$state$xAxisMap === void 0 ? void 0 : (_this$state$xAxisMap$ = _this$state$xAxisMap[axisId]) === null || _this$state$xAxisMap$ === void 0 ? void 0 : _this$state$xAxisMap$.scale;\n      }\n    }, {\n      key: \"getYScaleByAxisId\",\n      value: function getYScaleByAxisId(axisId) {\n        var _this$state$yAxisMap, _this$state$yAxisMap$;\n\n        return (_this$state$yAxisMap = this.state.yAxisMap) === null || _this$state$yAxisMap === void 0 ? void 0 : (_this$state$yAxisMap$ = _this$state$yAxisMap[axisId]) === null || _this$state$yAxisMap$ === void 0 ? void 0 : _this$state$yAxisMap$.scale;\n      }\n    }, {\n      key: \"getItemByXY\",\n      value: function getItemByXY(chartXY) {\n        var formattedGraphicalItems = this.state.formattedGraphicalItems;\n\n        if (formattedGraphicalItems && formattedGraphicalItems.length) {\n          for (var i = 0, len = formattedGraphicalItems.length; i < len; i++) {\n            var graphicalItem = formattedGraphicalItems[i];\n            var props = graphicalItem.props,\n                item = graphicalItem.item;\n            var itemDisplayName = getDisplayName(item.type);\n\n            if (itemDisplayName === 'Bar') {\n              var activeBarItem = (props.data || []).find(function (entry) {\n                return isInRectangle(chartXY, entry);\n              });\n\n              if (activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: activeBarItem\n                };\n              }\n            } else if (itemDisplayName === 'RadialBar') {\n              var _activeBarItem = (props.data || []).find(function (entry) {\n                return inRangeOfSector(chartXY, entry);\n              });\n\n              if (_activeBarItem) {\n                return {\n                  graphicalItem: graphicalItem,\n                  payload: _activeBarItem\n                };\n              }\n            }\n          }\n        }\n\n        return null;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n\n        if (!validateWidthHeight(this)) {\n          return null;\n        }\n\n        var _this$props6 = this.props,\n            children = _this$props6.children,\n            className = _this$props6.className,\n            width = _this$props6.width,\n            height = _this$props6.height,\n            style = _this$props6.style,\n            compact = _this$props6.compact,\n            title = _this$props6.title,\n            desc = _this$props6.desc,\n            others = _objectWithoutProperties(_this$props6, [\"children\", \"className\", \"width\", \"height\", \"style\", \"compact\", \"title\", \"desc\"]);\n\n        var attrs = filterProps(others);\n        var map = {\n          CartesianGrid: {\n            handler: this.renderGrid,\n            once: true\n          },\n          ReferenceArea: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceLine: {\n            handler: this.renderReferenceElement\n          },\n          ReferenceDot: {\n            handler: this.renderReferenceElement\n          },\n          XAxis: {\n            handler: this.renderXAxis\n          },\n          YAxis: {\n            handler: this.renderYAxis\n          },\n          Brush: {\n            handler: this.renderBrush,\n            once: true\n          },\n          Bar: {\n            handler: this.renderGraphicChild\n          },\n          Line: {\n            handler: this.renderGraphicChild\n          },\n          Area: {\n            handler: this.renderGraphicChild\n          },\n          Radar: {\n            handler: this.renderGraphicChild\n          },\n          RadialBar: {\n            handler: this.renderGraphicChild\n          },\n          Scatter: {\n            handler: this.renderGraphicChild\n          },\n          Pie: {\n            handler: this.renderGraphicChild\n          },\n          Funnel: {\n            handler: this.renderGraphicChild\n          },\n          Tooltip: {\n            handler: this.renderCursor,\n            once: true\n          },\n          PolarGrid: {\n            handler: this.renderPolarGrid,\n            once: true\n          },\n          PolarAngleAxis: {\n            handler: this.renderPolarAxis\n          },\n          PolarRadiusAxis: {\n            handler: this.renderPolarAxis\n          },\n          Customized: {\n            handler: this.renderCustomized\n          }\n        }; // The \"compact\" mode is mainly used as the panorama within Brush\n\n        if (compact) {\n          return /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n            width: width,\n            height: height,\n            title: title,\n            desc: desc\n          }), this.renderClipPath(), renderByOrder(children, map));\n        }\n\n        var events = this.parseEventsOfWrapper();\n        return /*#__PURE__*/React.createElement(\"div\", _extends({\n          className: classNames('recharts-wrapper', className),\n          style: _objectSpread({\n            position: 'relative',\n            cursor: 'default',\n            width: width,\n            height: height\n          }, style)\n        }, events, {\n          ref: function ref(node) {\n            _this2.container = node;\n          },\n          role: \"region\"\n        }), /*#__PURE__*/React.createElement(Surface, _extends({}, attrs, {\n          width: width,\n          height: height,\n          title: title,\n          desc: desc\n        }), this.renderClipPath(), renderByOrder(children, map)), this.renderLegend(), this.renderTooltip());\n      }\n    }]);\n\n    return CategoricalChartWrapper;\n  }(Component), _class.displayName = chartName, _class.defaultProps = _objectSpread({\n    layout: 'horizontal',\n    stackOffset: 'none',\n    barCategoryGap: '10%',\n    barGap: 4,\n    margin: {\n      top: 5,\n      right: 5,\n      bottom: 5,\n      left: 5\n    },\n    reverseStackOrder: false,\n    syncMethod: 'index'\n  }, defaultProps), _class.getDerivedStateFromProps = function (nextProps, prevState) {\n    var data = nextProps.data,\n        children = nextProps.children,\n        width = nextProps.width,\n        height = nextProps.height,\n        layout = nextProps.layout,\n        stackOffset = nextProps.stackOffset,\n        margin = nextProps.margin;\n\n    if (_isNil(prevState.updateId)) {\n      var defaultState = createDefaultState(nextProps);\n      return _objectSpread(_objectSpread(_objectSpread({}, defaultState), {}, {\n        updateId: 0\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, defaultState), {}, {\n        updateId: 0\n      }), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (data !== prevState.prevData || width !== prevState.prevWidth || height !== prevState.prevHeight || layout !== prevState.prevLayout || stackOffset !== prevState.prevStackOffset || !shallowEqual(margin, prevState.prevMargin)) {\n      var _defaultState = createDefaultState(nextProps); // Fixes https://github.com/recharts/recharts/issues/2143\n\n\n      var keepFromPrevState = {\n        // (chartX, chartY) are (0,0) in default state, but we want to keep the last mouse position to avoid\n        // any flickering\n        chartX: prevState.chartX,\n        chartY: prevState.chartY,\n        // The tooltip should stay active when it was active in the previous render. If this is not\n        // the case, the tooltip disappears and immediately re-appears, causing a flickering effect\n        isTooltipActive: prevState.isTooltipActive\n      };\n\n      var updatesToState = _objectSpread(_objectSpread({}, getTooltipData(prevState, data, layout)), {}, {\n        updateId: prevState.updateId + 1\n      });\n\n      var newState = _objectSpread(_objectSpread(_objectSpread({}, _defaultState), keepFromPrevState), updatesToState);\n\n      return _objectSpread(_objectSpread(_objectSpread({}, newState), updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread({\n        props: nextProps\n      }, newState), prevState)), {}, {\n        prevData: data,\n        prevWidth: width,\n        prevHeight: height,\n        prevLayout: layout,\n        prevStackOffset: stackOffset,\n        prevMargin: margin,\n        prevChildren: children\n      });\n    }\n\n    if (!isChildrenEqual(children, prevState.prevChildren)) {\n      // update configuration in chilren\n      var hasGlobalData = !_isNil(data);\n      var newUpdateId = hasGlobalData ? prevState.updateId : prevState.updateId + 1;\n      return _objectSpread(_objectSpread({\n        updateId: newUpdateId\n      }, updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread(_objectSpread({\n        props: nextProps\n      }, prevState), {}, {\n        updateId: newUpdateId\n      }), prevState)), {}, {\n        prevChildren: children\n      });\n    }\n\n    return null;\n  }, _class.renderActiveDot = function (option, props) {\n    var dot;\n\n    if ( /*#__PURE__*/isValidElement(option)) {\n      dot = /*#__PURE__*/cloneElement(option, props);\n    } else if (_isFunction(option)) {\n      dot = option(props);\n    } else {\n      dot = /*#__PURE__*/React.createElement(Dot, props);\n    }\n\n    return /*#__PURE__*/React.createElement(Layer, {\n      className: \"recharts-active-dot\",\n      key: props.key\n    }, dot);\n  }, _temp;\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}