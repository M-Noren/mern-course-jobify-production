{"ast":null,"code":"import _toConsumableArray from\"C:/Users/marti/Desktop/Jobify/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/marti/Desktop/Jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FormRow,FormRowSelect}from\".\";import{useAppContext}from\"../context/appContext\";import Wrapper from\"../assets/wrappers/SearchContainer\";import{useState,useMemo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchContainer=function SearchContainer(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),localSearch=_useState2[0],setLocalSearch=_useState2[1];var _useAppContext=useAppContext(),isLoading=_useAppContext.isLoading,search=_useAppContext.search,searchStatus=_useAppContext.searchStatus,searchType=_useAppContext.searchType,sort=_useAppContext.sort,sortOptions=_useAppContext.sortOptions,statusOptions=_useAppContext.statusOptions,jobTypeOptions=_useAppContext.jobTypeOptions,handleChange=_useAppContext.handleChange,clearFilters=_useAppContext.clearFilters;var handleSearch=function handleSearch(e){handleChange({name:e.target.name,value:e.target.value});};var handleSubmit=function handleSubmit(e){e.preventDefault();setLocalSearch(\"\");clearFilters();};var debounce=function debounce(){var timeoutID;return function(e){setLocalSearch(e.target.value);clearTimeout(timeoutID);timeoutID=setTimeout(function(){handleChange({name:e.target.name,value:e.target.value});},1000);};};var optimizedDebounce=useMemo(function(){return debounce();},[]);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"search form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-center\",children:[/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"search\",value:localSearch,handleChange:optimizedDebounce}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"job status\",name:\"searchStatus\",value:searchStatus,handleChange:handleSearch,list:[\"all\"].concat(_toConsumableArray(statusOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"job type\",name:\"searchType\",value:searchType,handleChange:handleSearch,list:[\"all\"].concat(_toConsumableArray(jobTypeOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{name:\"sort\",value:sort,handleChange:handleSearch,list:sortOptions}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-danger\",disabled:isLoading,onClick:handleSubmit,children:\"clear filters\"})]})]})});};export default SearchContainer;","map":{"version":3,"names":["FormRow","FormRowSelect","useAppContext","Wrapper","useState","useMemo","SearchContainer","localSearch","setLocalSearch","isLoading","search","searchStatus","searchType","sort","sortOptions","statusOptions","jobTypeOptions","handleChange","clearFilters","handleSearch","e","name","target","value","handleSubmit","preventDefault","debounce","timeoutID","clearTimeout","setTimeout","optimizedDebounce"],"sources":["C:/Users/marti/Desktop/Jobify/client/src/components/SearchContainer.js"],"sourcesContent":["import { FormRow, FormRowSelect } from \".\";\r\nimport { useAppContext } from \"../context/appContext\";\r\nimport Wrapper from \"../assets/wrappers/SearchContainer\";\r\nimport { useState, useMemo } from \"react\";\r\n\r\nconst SearchContainer = () => {\r\n  const [localSearch, setLocalSearch] = useState(\"\");\r\n  const {\r\n    isLoading,\r\n    search,\r\n    searchStatus,\r\n    searchType,\r\n    sort,\r\n    sortOptions,\r\n    statusOptions,\r\n    jobTypeOptions,\r\n    handleChange,\r\n    clearFilters,\r\n  } = useAppContext();\r\n\r\n  const handleSearch = (e) => {\r\n    handleChange({ name: e.target.name, value: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLocalSearch(\"\");\r\n    clearFilters();\r\n  };\r\n\r\n  const debounce = () => {\r\n    let timeoutID;\r\n    return (e) => {\r\n      setLocalSearch(e.target.value);\r\n      clearTimeout(timeoutID);\r\n      timeoutID = setTimeout(() => {\r\n        handleChange({ name: e.target.name, value: e.target.value });\r\n      }, 1000);\r\n    };\r\n  };\r\n\r\n  const optimizedDebounce = useMemo(() => debounce(), []);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <form className=\"form\">\r\n        <h4>search form</h4>\r\n        {/* search position */}\r\n        <div className=\"form-center\">\r\n          <FormRow\r\n            type=\"text\"\r\n            name=\"search\"\r\n            value={localSearch}\r\n            handleChange={optimizedDebounce}\r\n          />\r\n          {/* search by status */}\r\n          <FormRowSelect\r\n            labelText=\"job status\"\r\n            name=\"searchStatus\"\r\n            value={searchStatus}\r\n            handleChange={handleSearch}\r\n            list={[\"all\", ...statusOptions]}\r\n          />\r\n          {/* search by type */}\r\n          <FormRowSelect\r\n            labelText=\"job type\"\r\n            name=\"searchType\"\r\n            value={searchType}\r\n            handleChange={handleSearch}\r\n            list={[\"all\", ...jobTypeOptions]}\r\n          />\r\n          {/* sort */}\r\n          <FormRowSelect\r\n            name=\"sort\"\r\n            value={sort}\r\n            handleChange={handleSearch}\r\n            list={sortOptions}\r\n          />\r\n\r\n          <button\r\n            className=\"btn btn-block btn-danger\"\r\n            disabled={isLoading}\r\n            onClick={handleSubmit}\r\n          >\r\n            clear filters\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SearchContainer;\r\n"],"mappings":"4PAAA,OAASA,OAAT,CAAkBC,aAAlB,KAAuC,GAAvC,CACA,OAASC,aAAT,KAA8B,uBAA9B,CACA,MAAOC,QAAP,KAAoB,oCAApB,CACA,OAASC,QAAT,CAAmBC,OAAnB,KAAkC,OAAlC,C,wFAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5B,cAAsCF,QAAQ,CAAC,EAAD,CAA9C,wCAAOG,WAAP,eAAoBC,cAApB,eACA,mBAWIN,aAAa,EAXjB,CACEO,SADF,gBACEA,SADF,CAEEC,MAFF,gBAEEA,MAFF,CAGEC,YAHF,gBAGEA,YAHF,CAIEC,UAJF,gBAIEA,UAJF,CAKEC,IALF,gBAKEA,IALF,CAMEC,WANF,gBAMEA,WANF,CAOEC,aAPF,gBAOEA,aAPF,CAQEC,cARF,gBAQEA,cARF,CASEC,YATF,gBASEA,YATF,CAUEC,YAVF,gBAUEA,YAVF,CAaA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1BH,YAAY,CAAC,CAAEI,IAAI,CAAED,CAAC,CAACE,MAAF,CAASD,IAAjB,CAAuBE,KAAK,CAAEH,CAAC,CAACE,MAAF,CAASC,KAAvC,CAAD,CAAZ,CACD,CAFD,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACJ,CAAD,CAAO,CAC1BA,CAAC,CAACK,cAAF,GACAjB,cAAc,CAAC,EAAD,CAAd,CACAU,YAAY,GACb,CAJD,CAMA,GAAMQ,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,GAAIC,UAAJ,CACA,MAAO,UAACP,CAAD,CAAO,CACZZ,cAAc,CAACY,CAAC,CAACE,MAAF,CAASC,KAAV,CAAd,CACAK,YAAY,CAACD,SAAD,CAAZ,CACAA,SAAS,CAAGE,UAAU,CAAC,UAAM,CAC3BZ,YAAY,CAAC,CAAEI,IAAI,CAAED,CAAC,CAACE,MAAF,CAASD,IAAjB,CAAuBE,KAAK,CAAEH,CAAC,CAACE,MAAF,CAASC,KAAvC,CAAD,CAAZ,CACD,CAFqB,CAEnB,IAFmB,CAAtB,CAGD,CAND,CAOD,CATD,CAWA,GAAMO,kBAAiB,CAAGzB,OAAO,CAAC,iBAAMqB,SAAQ,EAAd,EAAD,CAAmB,EAAnB,CAAjC,CAEA,mBACE,KAAC,OAAD,wBACE,cAAM,SAAS,CAAC,MAAhB,wBACE,mCADF,cAGE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,OAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAEnB,WAHT,CAIE,YAAY,CAAEuB,iBAJhB,EADF,cAQE,KAAC,aAAD,EACE,SAAS,CAAC,YADZ,CAEE,IAAI,CAAC,cAFP,CAGE,KAAK,CAAEnB,YAHT,CAIE,YAAY,CAAEQ,YAJhB,CAKE,IAAI,EAAG,KAAH,4BAAaJ,aAAb,EALN,EARF,cAgBE,KAAC,aAAD,EACE,SAAS,CAAC,UADZ,CAEE,IAAI,CAAC,YAFP,CAGE,KAAK,CAAEH,UAHT,CAIE,YAAY,CAAEO,YAJhB,CAKE,IAAI,EAAG,KAAH,4BAAaH,cAAb,EALN,EAhBF,cAwBE,KAAC,aAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAEH,IAFT,CAGE,YAAY,CAAEM,YAHhB,CAIE,IAAI,CAAEL,WAJR,EAxBF,cA+BE,eACE,SAAS,CAAC,0BADZ,CAEE,QAAQ,CAAEL,SAFZ,CAGE,OAAO,CAAEe,YAHX,2BA/BF,GAHF,GADF,EADF,CA+CD,CArFD,CAuFA,cAAelB,gBAAf"},"metadata":{},"sourceType":"module"}