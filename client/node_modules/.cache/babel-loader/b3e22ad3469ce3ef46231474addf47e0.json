{"ast":null,"code":"import _defineProperty from\"C:/Users/marti/Desktop/Jobify/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/marti/Desktop/Jobify/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/marti/Desktop/Jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Logo,FormRow,Alert}from\"../components\";import Wrapper from\"../assets/wrappers/RegisterPage\";import{useAppContext}from\"../context/appContext\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={name:\"\",email:\"\",password:\"\",isMember:true};var Register=function Register(){var navigate=useNavigate();var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useAppContext=useAppContext(),user=_useAppContext.user,isLoading=_useAppContext.isLoading,showAlert=_useAppContext.showAlert,displayValuesAlert=_useAppContext.displayValuesAlert,registerUser=_useAppContext.registerUser,loginUser=_useAppContext.loginUser;var toggleMember=function toggleMember(){setValues(_objectSpread(_objectSpread({},values),{},{isMember:!values.isMember}));};var handleChange=function handleChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();var name=values.name,email=values.email,password=values.password,isMember=values.isMember;if(!email||!password||!isMember&&!name){displayValuesAlert();return;}var currentUser={name:name,email:email,password:password};if(isMember){loginUser(currentUser);}else{registerUser(currentUser);}};// Navigate to Dashboard\nuseEffect(function(){if(user){setTimeout(function(){navigate(\"/\");},3000);}},[user,navigate]);return/*#__PURE__*/_jsx(Wrapper,{className:\"full-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h3\",{children:values.isMember?\"Login\":\"Register\"}),showAlert&&/*#__PURE__*/_jsx(Alert,{}),!values.isMember&&/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"name\",value:values.name,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"email\",name:\"email\",value:values.email,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"password\",name:\"password\",value:values.password,handleChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",disabled:isLoading,children:\"submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-block btn-hipster\",disabled:isLoading,onClick:function onClick(){var testUser={email:'testuser@test.com',password:'secret'};loginUser(testUser);},children:isLoading?'loading...':'demo app'}),/*#__PURE__*/_jsxs(\"p\",{children:[values.isMember?\"Not a member?\":\"Already a member?\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleMember,className:\"member-btn\",children:values.isMember?\"Register\":\"Login\"})]})]})});};export default Register;","map":{"version":3,"names":["useState","useEffect","Logo","FormRow","Alert","Wrapper","useAppContext","useNavigate","initialState","name","email","password","isMember","Register","navigate","values","setValues","user","isLoading","showAlert","displayValuesAlert","registerUser","loginUser","toggleMember","handleChange","e","target","value","onSubmit","preventDefault","currentUser","setTimeout","testUser"],"sources":["C:/Users/marti/Desktop/Jobify/client/src/pages/Register.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Logo, FormRow, Alert } from \"../components\";\r\nimport Wrapper from \"../assets/wrappers/RegisterPage\";\r\nimport { useAppContext } from \"../context/appContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  isMember: true,\r\n};\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n  const [values, setValues] = useState(initialState);\r\n  const {\r\n    user,\r\n    isLoading,\r\n    showAlert,\r\n    displayValuesAlert,\r\n    registerUser,\r\n    loginUser,\r\n  } = useAppContext();\r\n\r\n  const toggleMember = () => {\r\n    setValues({ ...values, isMember: !values.isMember });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, password, isMember } = values;\r\n    if (!email || !password || (!isMember && !name)) {\r\n      displayValuesAlert();\r\n      return;\r\n    }\r\n    const currentUser = { name, email, password };\r\n    if (isMember) {\r\n      loginUser(currentUser);\r\n    } else {\r\n      registerUser(currentUser);\r\n    }\r\n  };\r\n\r\n  // Navigate to Dashboard\r\n  useEffect(() => {\r\n    if (user) {\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 3000);\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  return (\r\n    <Wrapper className=\"full-page\">\r\n      <form className=\"form\" onSubmit={onSubmit}>\r\n        <Logo />\r\n        <h3>{values.isMember ? \"Login\" : \"Register\"}</h3>\r\n\r\n        {/* alert */}\r\n        {showAlert && <Alert />}\r\n\r\n        {/* name input */}\r\n        {!values.isMember && (\r\n          <FormRow\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={values.name}\r\n            handleChange={handleChange}\r\n          />\r\n        )}\r\n        {/* email field */}\r\n        <FormRow\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={values.email}\r\n          handleChange={handleChange}\r\n        />\r\n        {/* password field */}\r\n        <FormRow\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={values.password}\r\n          handleChange={handleChange}\r\n        />\r\n        <button type=\"submit\" className=\"btn btn-block\" disabled={isLoading}>\r\n          submit\r\n        </button>\r\n        <button \r\n          type=\"button\" \r\n          className=\"btn btn-block btn-hipster\"\r\n          disabled={isLoading}\r\n          onClick={() => {\r\n            const testUser = { email: 'testuser@test.com', password: 'secret' }\r\n            loginUser(testUser)\r\n          }}\r\n          >\r\n            {isLoading ? 'loading...' : 'demo app'}\r\n          </button>\r\n        <p>\r\n          {values.isMember ? \"Not a member?\" : \"Already a member?\"}\r\n          <button type=\"button\" onClick={toggleMember} className=\"member-btn\">\r\n            {values.isMember ? \"Register\" : \"Login\"}\r\n          </button>\r\n        </p>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}